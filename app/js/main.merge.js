/**
 * @update : 2016-11-11 1:24:18
 */
!function(modules){function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={exports:{},id:moduleId,loaded:!1};return modules[moduleId].call(module.exports,module,module.exports,__webpack_require__),module.loaded=!0,module.exports}var installedModules={};return __webpack_require__.m=modules,__webpack_require__.c=installedModules,__webpack_require__.p="",__webpack_require__(0)}([function(module,exports,__webpack_require__){module.exports=__webpack_require__(1)},function(module,exports,__webpack_require__){eval("'use strict';\n\nvar _BgCanvasVideo = __webpack_require__(2);\n\nvar _BgCanvasVideo2 = _interopRequireDefault(_BgCanvasVideo);\n\nvar _Movie = __webpack_require__(3);\n\nvar _Movie2 = _interopRequireDefault(_Movie);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// import Navi from './component/Navi';\n// import NaviHasTimer from './component/NaviHasTimer';\n// import ImageLoader from './component/ImageLoader';\n// import FullSizeBg from './component/FullSizeBg';\n// import Overlay from './component/Overlay';\n// import FullSizeVideo from './component/FullSizeVideo';\n(function ($) {\n  \"use strict\";\n\n  $(document).ready(init);\n\n  function init() {\n    // testNavi();\n    // testNaviHasTimer();\n    // testImageLoader();\n    // testFullSizeBg();\n    // testOverlay();\n    // testFullSizeVideo();\n    //testBgCanvasVideo();\n\n    testMovie();\n  }\n\n  function testMovie() {\n    var backgroundMovie = new _Movie2.default({\n      parent: $('.canvas-video'), //v\n      videoClass: 'video', //v\n      canvasClass: 'canvas', //v\n\n      autoplay: true,\n      loop: true,\n      muted: false,\n\n      width: 1920, //v\n      height: 1080, //v\n      alignX: 'center', //v\n      alignY: 'center', //v\n\n      fps: 30, // TODO\n      videoUrl: 'http://akvod.plaync.com/RK/MOVIES/PREREGISTER3/960x540.mp4',\n\n      posterUrl: '', // TODO\n      posterAlt: '', // TODO\n\n      canplayCallback: null, //v\n      timeupdateCallback: null, //v\n      endedCallback: null //v\n    });\n    backgroundMovie.init();\n\n    $(window).on('resize', function (evt) {\n      console.log('main.js - resize. window.innerWidth, window.innerHeight :', window.innerWidth, window.innerHeight);\n\n      $('.canvas-video').css({\n        width: window.innerWidth,\n        height: window.innerHeight\n      });\n\n      $('#wrapper').css({\n        width: window.innerWidth,\n        height: window.innerHeight\n      });\n    }).trigger('resize');\n  }\n\n  function testBgCanvasVideo() {\n    var bgCanvasVideo = new _BgCanvasVideo2.default({\n      parent: $('.canvas-video'), //v\n      videoClass: 'video', //v\n      canvasClass: 'canvas', //v\n\n      autoplay: true,\n      loop: true,\n      muted: false,\n\n      width: 1920, //v\n      height: 1080, //v\n      alignX: 'center',\n      alignY: 'center',\n\n      fps: 30,\n      videoUrl: 'http://akvod.plaync.com/RK/MOVIES/PREREGISTER3/960x540.mp4', // 'http://vodfile.ncsoft.co.kr/ncvod/plaync/LE/CBT/motion/hero_all.mp4',\n      posterUrl: '',\n      posterAlt: '',\n\n      canplayCallback: null,\n      timeupdateCallback: null,\n      endedCallback: null\n    });\n    bgCanvasVideo.init();\n\n    $(window).on('resize', function (evt) {\n      console.log('main.js - resize. window.innerWidth, window.innerHeight :', window.innerWidth, window.innerHeight);\n\n      $('.canvas-video').css({\n        width: window.innerWidth,\n        height: window.innerHeight\n      });\n\n      $('#wrapper').css({\n        width: window.innerWidth,\n        height: window.innerHeight\n      });\n    }).trigger('resize');\n\n    // test btns\n    $('#btn-play').on('click', function (evt) {\n      evt.preventDefault();\n      bgCanvasVideo.play();\n    });\n\n    $('#btn-pause').on('click', function (evt) {\n      evt.preventDefault();\n      bgCanvasVideo.pause();\n    });\n\n    $('#btn-stop').on('click', function (evt) {\n      evt.preventDefault();\n      bgCanvasVideo.stop();\n    });\n\n    $('#btn-seek').on('click', function (evt) {\n      evt.preventDefault();\n      bgCanvasVideo.seek(84);\n    });\n\n    /*\r\n    function testNavi() {\r\n      let navi = new Navi({\r\n        btns: $('.navi li a'),\r\n          mouseoverCallback: mouseoverCallback,\r\n        mouseoutCallback: mouseoutCallback,\r\n        clickCallback: clickCallback,\r\n        activateCallback: activateCallback\r\n      });\r\n      navi.init();\r\n        function mouseoverCallback(obj) {\r\n        console.log('mouseover :', obj);\r\n      }\r\n        function mouseoutCallback(obj) {\r\n        console.log('mouseout :', obj);\r\n      }\r\n        function clickCallback(obj) {\r\n        console.log('click :', obj);\r\n      }\r\n        function activateCallback(obj) {\r\n        console.log('activateCallback :', obj);\r\n          let btns = $(navi.getBtns()),\r\n          btn = $(navi.getBtn(obj.index));\r\n          btns.removeClass('on');\r\n        btn.addClass('on');\r\n      }\r\n        //get activated index\r\n      console.log( 'init navi instance. then, print \"_navi.getActivatedIndex()\" :', navi.getActivatedIndex() );\r\n        //activate 3rd btn\r\n      navi.activate(3);\r\n        //get activated index\r\n      console.log( 'after call \"navi.activate(3)\", print \"_navi.getActivatedIndex()\" :', navi.getActivatedIndex() );\r\n    }\r\n      function testNaviHasTimer() {\r\n      let navi = new NaviHasTimer({\r\n        btns: $('.navi li a'),\r\n          mouseoverCallback: mouseoverCallback,\r\n        mouseoutCallback: mouseoutCallback,\r\n        clickCallback: clickCallback,\r\n        activateCallback: activateCallback,\r\n          timerInterval: 500\r\n      });\r\n      navi.init();\r\n        function mouseoverCallback(obj) {\r\n        console.log('mouseover :', obj);\r\n      }\r\n        function mouseoutCallback(obj) {\r\n        console.log('mouseout :', obj);\r\n      }\r\n        function clickCallback(obj) {\r\n        console.log('click :', obj);\r\n      }\r\n        function activateCallback(obj) {\r\n        console.log('activateCallback :', obj);\r\n          let btns = $(navi.getBtns()),\r\n          btn = $(navi.getBtn(obj.index));\r\n          btns.removeClass('on');\r\n        btn.addClass('on');\r\n      }\r\n        //get activated index\r\n      console.log( 'init navi instance. then, print \"_navi.getActivatedIndex()\" :', navi.getActivatedIndex() );\r\n        //activate 3rd btn\r\n      navi.activate(3);\r\n        //get activated index\r\n      console.log( 'after call \"navi.activate(3)\", print \"_navi.getActivatedIndex()\" :', navi.getActivatedIndex() );\r\n    }\r\n      function testImageLoader() {\r\n      let imgLoader = new ImageLoader({\r\n        loadCompleteCallback: (obj) => {\r\n          console.log('loadComplete :', obj);\r\n          console.log('imgLoader.isFinished() :', imgLoader.isFinished());\r\n          console.log('imgLoader.getLoadedImgs() :', imgLoader.getLoadedImgs());\r\n        },\r\n        loadPerCompleteCallback: (obj) => {\r\n          console.log('loadPerComplete :', obj);\r\n          console.log('imgLoader.isFinished() :', imgLoader.isFinished());\r\n          console.log('imgLoader.getLoadedImgs() :', imgLoader.getLoadedImgs());\r\n        },\r\n        loadErrorCallback: (obj) => {\r\n          console.log('loadError :', obj)\r\n          console.log('imgLoader.isFinished() :', imgLoader.isFinished());\r\n          console.log('imgLoader.getLoadedImgs() :', imgLoader.getLoadedImgs());\r\n        }\r\n      });\r\n        imgLoader.start([\r\n        'https://images.unsplash.com/photo-1431794062232-2a99a5431c6c?dpr=2&auto=compress,format&crop=entropy&fit=crop&w=767&h=511&q=80&cs=tinysrgb',\r\n        'https://images.unsplash.com/photo-1435783099294-283725c372',\r\n        'https://images.unsplash.com/photo-1459666644539-a9755287d6b0?dpr=2&auto=compress,format&crop=entropy&fit=crop&w=767&h=463&q=80&cs=tinysrgb'\r\n      ]);\r\n    }\r\n      function testFullSizeBg() {\r\n      let fullSizeBg = new FullSizeBg({\r\n        imgWrap: $('.fullsize-bg'),\r\n        imgWidth: 4592,\r\n        imgHeight: 3064,\r\n        alignX: 'center',\r\n        alignY: 'center'\r\n      });\r\n      fullSizeBg.init();\r\n        $(window).on('resize', function(evt) {\r\n        $('#wrapper').css({\r\n          width: window.innerWidth,\r\n          height: window.innerHeight\r\n        });\r\n      }).trigger('resize');\r\n    }\r\n      function testOverlay() {\r\n      let overlay = new Overlay({\r\n        class: 'overlay',\r\n        color: '#f00',\r\n        opacity: 0.5,\r\n        appendTo: $('body')\r\n      });\r\n      overlay.init();\r\n        overlay.show();\r\n        setTimeout(function() {\r\n        overlay.setCss({\r\n          'background-color' : '#00f'\r\n        });\r\n      }, 1500);\r\n        setTimeout(function() {\r\n        overlay.hide();\r\n      }, 3000);\r\n    }\r\n      function testFullSizeVideo() {\r\n      let fullSizeVideo = new FullSizeVideo({\r\n        videoWrap: $('.fullsize-video'),\r\n        width: 320,\r\n        height: 176,\r\n        alignX: 'center',\r\n        alignY: 'center',\r\n          videoUrls: ['data/video_320x176.mp4'],\r\n        \r\n        posterUrl: 'https://images.unsplash.com/photo-1474496517593-015d8b59450d?ixlib=rb-0.3.5&q=80&fm=jpg&crop=entropy&cs=tinysrgb&s=49563d997d36faad03833ddab8d15c0a',\r\n        posterAlt: 'poster alt string',\r\n          autoplay: true,\r\n        loop: false,\r\n        muted: true,\r\n          canplayCallback: (obj) => {\r\n          console.log('canplayCallback obj :', obj);\r\n        },\r\n        timeupdateCallback: (obj) => {\r\n          console.log('timeupdateCallback obj :', obj);\r\n        },\r\n        endedCallback: (obj) => {\r\n          console.log('endedCallback obj :', obj);\r\n        }\r\n      });\r\n        fullSizeVideo.init();\r\n        setTimeout(function() {\r\n        fullSizeVideo.play();\r\n      }, 2000);\r\n        setTimeout(function() {\r\n        fullSizeVideo.stop();\r\n      }, 4000);\r\n        setTimeout(function() {\r\n        fullSizeVideo.seek(5);\r\n        fullSizeVideo.play();\r\n      }, 6000);\r\n        $(window).on('resize', function(evt) {\r\n        $('#wrapper').css({\r\n          width: window.innerWidth,\r\n          height: window.innerHeight\r\n        });\r\n      }).trigger('resize');\r\n    }\r\n    */\n  }\n})(jQuery);//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9hcHAvc3JjL21haW4uanM/MTdmNiJdLCJuYW1lcyI6WyIkIiwiZG9jdW1lbnQiLCJyZWFkeSIsImluaXQiLCJ0ZXN0TW92aWUiLCJiYWNrZ3JvdW5kTW92aWUiLCJwYXJlbnQiLCJ2aWRlb0NsYXNzIiwiY2FudmFzQ2xhc3MiLCJhdXRvcGxheSIsImxvb3AiLCJtdXRlZCIsIndpZHRoIiwiaGVpZ2h0IiwiYWxpZ25YIiwiYWxpZ25ZIiwiZnBzIiwidmlkZW9VcmwiLCJwb3N0ZXJVcmwiLCJwb3N0ZXJBbHQiLCJjYW5wbGF5Q2FsbGJhY2siLCJ0aW1ldXBkYXRlQ2FsbGJhY2siLCJlbmRlZENhbGxiYWNrIiwid2luZG93Iiwib24iLCJldnQiLCJjb25zb2xlIiwibG9nIiwiaW5uZXJXaWR0aCIsImlubmVySGVpZ2h0IiwiY3NzIiwidHJpZ2dlciIsInRlc3RCZ0NhbnZhc1ZpZGVvIiwiYmdDYW52YXNWaWRlbyIsInByZXZlbnREZWZhdWx0IiwicGxheSIsInBhdXNlIiwic3RvcCIsInNlZWsiLCJqUXVlcnkiXSwibWFwcGluZ3MiOiI7O0FBTUM7Ozs7QUFDRDs7Ozs7O0FBUEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSUMsV0FBU0EsQ0FBVCxFQUFZO0FBQ1g7O0FBQ0FBLElBQUVDLFFBQUYsRUFBWUMsS0FBWixDQUFrQkMsSUFBbEI7O0FBRUEsV0FBU0EsSUFBVCxHQUFnQjtBQUNkO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVDQztBQUNGOztBQUVELFdBQVNBLFNBQVQsR0FBcUI7QUFDbkIsUUFBSUMsa0JBQWtCLG9CQUFVO0FBQzlCQyxjQUFRTixFQUFFLGVBQUYsQ0FEc0IsRUFDRjtBQUM1Qk8sa0JBQVksT0FGa0IsRUFFVDtBQUNyQkMsbUJBQWEsUUFIaUIsRUFHUDs7QUFFdkJDLGdCQUFVLElBTG9CO0FBTTlCQyxZQUFNLElBTndCO0FBTzlCQyxhQUFPLEtBUHVCOztBQVM5QkMsYUFBTyxJQVR1QixF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LEVBQWYsQ0FBa0IsT0FBbEIsRUFBMkIsVUFBU0MsR0FBVCxFQUFjO0FBQ3ZDQSxVQUFJUyxjQUFKO0FBQ0FELG9CQUFjSyxJQUFkLENBQW1CLEVBQW5CO0FBQ0QsS0FIRDs7QUFLRjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUE4TUM7QUFDRixDQXRVQSxFQXNVQ0MsTUF0VUQsQ0FBRCIsImZpbGUiOiIxLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLy8gaW1wb3J0IE5hdmkgZnJvbSAnLi9jb21wb25lbnQvTmF2aSc7XHJcbi8vIGltcG9ydCBOYXZpSGFzVGltZXIgZnJvbSAnLi9jb21wb25lbnQvTmF2aUhhc1RpbWVyJztcclxuLy8gaW1wb3J0IEltYWdlTG9hZGVyIGZyb20gJy4vY29tcG9uZW50L0ltYWdlTG9hZGVyJztcclxuLy8gaW1wb3J0IEZ1bGxTaXplQmcgZnJvbSAnLi9jb21wb25lbnQvRnVsbFNpemVCZyc7XHJcbi8vIGltcG9ydCBPdmVybGF5IGZyb20gJy4vY29tcG9uZW50L092ZXJsYXknO1xyXG4vLyBpbXBvcnQgRnVsbFNpemVWaWRlbyBmcm9tICcuL2NvbXBvbmVudC9GdWxsU2l6ZVZpZGVvJztcclxuIGltcG9ydCBCZ0NhbnZhc1ZpZGVvIGZyb20gJy4vY29tcG9uZW50L0JnQ2FudmFzVmlkZW8nO1xyXG5pbXBvcnQgTW92aWUgZnJvbSAnLi9jb21wb25lbnQvTW92aWUnO1xyXG5cclxuKGZ1bmN0aW9uKCQpIHtcclxuICBcInVzZSBzdHJpY3RcIjtcclxuICAkKGRvY3VtZW50KS5yZWFkeShpbml0KTtcclxuXHJcbiAgZnVuY3Rpb24gaW5pdCgpIHtcclxuICAgIC8vIHRlc3ROYXZpKCk7XHJcbiAgICAvLyB0ZXN0TmF2aUhhc1RpbWVyKCk7XHJcbiAgICAvLyB0ZXN0SW1hZ2VMb2FkZXIoKTtcclxuICAgIC8vIHRlc3RGdWxsU2l6ZUJnKCk7XHJcbiAgICAvLyB0ZXN0T3ZlcmxheSgpO1xyXG4gICAgLy8gdGVzdEZ1bGxTaXplVmlkZW8oKTtcclxuICAgIC8vdGVzdEJnQ2FudmFzVmlkZW8oKTtcclxuXHJcbiAgICAgdGVzdE1vdmllKCk7XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiB0ZXN0TW92aWUoKSB7XHJcbiAgICBsZXQgYmFja2dyb3VuZE1vdmllID0gbmV3IE1vdmllKHtcclxuICAgICAgcGFyZW50OiAkKCcuY2FudmFzLXZpZGVvJyksIC8vdlxyXG4gICAgICB2aWRlb0NsYXNzOiAndmlkZW8nLCAvL3ZcclxuICAgICAgY2FudmFzQ2xhc3M6ICdjYW52YXMnLCAvL3ZcclxuXHJcbiAgICAgIGF1dG9wbGF5OiB0cnVlLFxyXG4gICAgICBsb29wOiB0cnVlLFxyXG4gICAgICBtdXRlZDogZmFsc2UsXHJcblxyXG4gICAgICB3aWR0aDogMTkyMCwgLy92XHJcbiAgICAgIGhlaWdodDogMTA4MCwgLy92XHJcbiAgICAgIGFsaWduWDogJ2NlbnRlcicsIC8vdlxyXG4gICAgICBhbGlnblk6ICdjZW50ZXInLCAvL3ZcclxuXHJcbiAgICAgIGZwczogMzAsIC8vIFRPRE9cclxuICAgICAgdmlkZW9Vcmw6ICdodHRwOi8vYWt2b2QucGxheW5jLmNvbS9SSy9NT1ZJRVMvUFJFUkVHSVNURVIzLzk2MHg1NDAubXA0JyxcclxuXHJcbiAgICAgIHBvc3RlclVybDogJycsIC8vIFRPRE9cclxuICAgICAgcG9zdGVyQWx0OiAnJywgLy8gVE9ET1xyXG5cclxuICAgICAgY2FucGxheUNhbGxiYWNrOiBudWxsLCAvL3ZcclxuICAgICAgdGltZXVwZGF0ZUNhbGxiYWNrOiBudWxsLCAvL3ZcclxuICAgICAgZW5kZWRDYWxsYmFjazogbnVsbCAvL3ZcclxuICAgIH0pO1xyXG4gICAgYmFja2dyb3VuZE1vdmllLmluaXQoKTtcclxuXHJcbiAgICAkKHdpbmRvdykub24oJ3Jlc2l6ZScsIGZ1bmN0aW9uKGV2dCkge1xyXG4gICAgICBjb25zb2xlLmxvZygnbWFpbi5qcyAtIHJlc2l6ZS4gd2luZG93LmlubmVyV2lkdGgsIHdpbmRvdy5pbm5lckhlaWdodCA6Jywgd2luZG93LmlubmVyV2lkdGgsIHdpbmRvdy5pbm5lckhlaWdodCk7XHJcblxyXG4gICAgICAkKCcuY2FudmFzLXZpZGVvJykuY3NzKHtcclxuICAgICAgICB3aWR0aDogd2luZG93LmlubmVyV2lkdGgsXHJcbiAgICAgICAgaGVpZ2h0OiB3aW5kb3cuaW5uZXJIZWlnaHRcclxuICAgICAgfSk7XHJcblxyXG4gICAgICAkKCcjd3JhcHBlcicpLmNzcyh7XHJcbiAgICAgICAgd2lkdGg6IHdpbmRvdy5pbm5lcldpZHRoLFxyXG4gICAgICAgIGhlaWdodDogd2luZG93LmlubmVySGVpZ2h0XHJcbiAgICAgIH0pO1xyXG4gICAgfSkudHJpZ2dlcigncmVzaXplJyk7XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiB0ZXN0QmdDYW52YXNWaWRlbygpIHtcclxuICAgIGxldCBiZ0NhbnZhc1ZpZGVvID0gbmV3IEJnQ2FudmFzVmlkZW8oe1xyXG4gICAgICBwYXJlbnQ6ICQoJy5jYW52YXMtdmlkZW8nKSwgLy92XHJcbiAgICAgIHZpZGVvQ2xhc3M6ICd2aWRlbycsIC8vdlxyXG4gICAgICBjYW52YXNDbGFzczogJ2NhbnZhcycsIC8vdlxyXG5cclxuICAgICAgYXV0b3BsYXk6IHRydWUsXHJcbiAgICAgIGxvb3A6IHRydWUsXHJcbiAgICAgIG11dGVkOiBmYWxzZSxcclxuXHJcbiAgICAgIHdpZHRoOiAxOTIwLCAvL3ZcclxuICAgICAgaGVpZ2h0OiAxMDgwLCAvL3ZcclxuICAgICAgYWxpZ25YOiAnY2VudGVyJyxcclxuICAgICAgYWxpZ25ZOiAnY2VudGVyJyxcclxuXHJcbiAgICAgIGZwczogMzAsXHJcbiAgICAgIHZpZGVvVXJsOiAnaHR0cDovL2Frdm9kLnBsYXluYy5jb20vUksvTU9WSUVTL1BSRVJFR0lTVEVSMy85NjB4NTQwLm1wNCcsIC8vICdodHRwOi8vdm9kZmlsZS5uY3NvZnQuY28ua3IvbmN2b2QvcGxheW5jL0xFL0NCVC9tb3Rpb24vaGVyb19hbGwubXA0JyxcclxuICAgICAgcG9zdGVyVXJsOiAnJyxcclxuICAgICAgcG9zdGVyQWx0OiAnJyxcclxuXHJcbiAgICAgIGNhbnBsYXlDYWxsYmFjazogbnVsbCxcclxuICAgICAgdGltZXVwZGF0ZUNhbGxiYWNrOiBudWxsLFxyXG4gICAgICBlbmRlZENhbGxiYWNrOiBudWxsXHJcbiAgICB9KTtcclxuICAgIGJnQ2FudmFzVmlkZW8uaW5pdCgpO1xyXG5cclxuICAgICQod2luZG93KS5vbigncmVzaXplJywgZnVuY3Rpb24oZXZ0KSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKCdtYWluLmpzIC0gcmVzaXplLiB3aW5kb3cuaW5uZXJXaWR0aCwgd2luZG93LmlubmVySGVpZ2h0IDonLCB3aW5kb3cuaW5uZXJXaWR0aCwgd2luZG93LmlubmVySGVpZ2h0KTtcclxuXHJcbiAgICAgICQoJy5jYW52YXMtdmlkZW8nKS5jc3Moe1xyXG4gICAgICAgIHdpZHRoOiB3aW5kb3cuaW5uZXJXaWR0aCxcclxuICAgICAgICBoZWlnaHQ6IHdpbmRvdy5pbm5lckhlaWdodFxyXG4gICAgICB9KTtcclxuXHJcbiAgICAgICQoJyN3cmFwcGVyJykuY3NzKHtcclxuICAgICAgICB3aWR0aDogd2luZG93LmlubmVyV2lkdGgsXHJcbiAgICAgICAgaGVpZ2h0OiB3aW5kb3cuaW5uZXJIZWlnaHRcclxuICAgICAgfSk7XHJcbiAgICB9KS50cmlnZ2VyKCdyZXNpemUnKTtcclxuXHJcbiAgICAvLyB0ZXN0IGJ0bnNcclxuICAgICQoJyNidG4tcGxheScpLm9uKCdjbGljaycsIGZ1bmN0aW9uKGV2dCkge1xyXG4gICAgICBldnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgYmdDYW52YXNWaWRlby5wbGF5KCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICAkKCcjYnRuLXBhdXNlJykub24oJ2NsaWNrJywgZnVuY3Rpb24oZXZ0KSB7XHJcbiAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICBiZ0NhbnZhc1ZpZGVvLnBhdXNlKCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICAkKCcjYnRuLXN0b3AnKS5vbignY2xpY2snLCBmdW5jdGlvbihldnQpIHtcclxuICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgIGJnQ2FudmFzVmlkZW8uc3RvcCgpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgJCgnI2J0bi1zZWVrJykub24oJ2NsaWNrJywgZnVuY3Rpb24oZXZ0KSB7XHJcbiAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICBiZ0NhbnZhc1ZpZGVvLnNlZWsoODQpO1xyXG4gICAgfSk7XHJcblxyXG4gIC8qXHJcbiAgZnVuY3Rpb24gdGVzdE5hdmkoKSB7XHJcbiAgICBsZXQgbmF2aSA9IG5ldyBOYXZpKHtcclxuICAgICAgYnRuczogJCgnLm5hdmkgbGkgYScpLFxyXG5cclxuICAgICAgbW91c2VvdmVyQ2FsbGJhY2s6IG1vdXNlb3ZlckNhbGxiYWNrLFxyXG4gICAgICBtb3VzZW91dENhbGxiYWNrOiBtb3VzZW91dENhbGxiYWNrLFxyXG4gICAgICBjbGlja0NhbGxiYWNrOiBjbGlja0NhbGxiYWNrLFxyXG4gICAgICBhY3RpdmF0ZUNhbGxiYWNrOiBhY3RpdmF0ZUNhbGxiYWNrXHJcbiAgICB9KTtcclxuICAgIG5hdmkuaW5pdCgpO1xyXG5cclxuICAgIGZ1bmN0aW9uIG1vdXNlb3ZlckNhbGxiYWNrKG9iaikge1xyXG4gICAgICBjb25zb2xlLmxvZygnbW91c2VvdmVyIDonLCBvYmopO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIG1vdXNlb3V0Q2FsbGJhY2sob2JqKSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKCdtb3VzZW91dCA6Jywgb2JqKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBjbGlja0NhbGxiYWNrKG9iaikge1xyXG4gICAgICBjb25zb2xlLmxvZygnY2xpY2sgOicsIG9iaik7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gYWN0aXZhdGVDYWxsYmFjayhvYmopIHtcclxuICAgICAgY29uc29sZS5sb2coJ2FjdGl2YXRlQ2FsbGJhY2sgOicsIG9iaik7XHJcblxyXG4gICAgICBsZXQgYnRucyA9ICQobmF2aS5nZXRCdG5zKCkpLFxyXG4gICAgICAgIGJ0biA9ICQobmF2aS5nZXRCdG4ob2JqLmluZGV4KSk7XHJcblxyXG4gICAgICBidG5zLnJlbW92ZUNsYXNzKCdvbicpO1xyXG4gICAgICBidG4uYWRkQ2xhc3MoJ29uJyk7XHJcbiAgICB9XHJcblxyXG4gICAgLy9nZXQgYWN0aXZhdGVkIGluZGV4XHJcbiAgICBjb25zb2xlLmxvZyggJ2luaXQgbmF2aSBpbnN0YW5jZS4gdGhlbiwgcHJpbnQgXCJfbmF2aS5nZXRBY3RpdmF0ZWRJbmRleCgpXCIgOicsIG5hdmkuZ2V0QWN0aXZhdGVkSW5kZXgoKSApO1xyXG5cclxuICAgIC8vYWN0aXZhdGUgM3JkIGJ0blxyXG4gICAgbmF2aS5hY3RpdmF0ZSgzKTtcclxuXHJcbiAgICAvL2dldCBhY3RpdmF0ZWQgaW5kZXhcclxuICAgIGNvbnNvbGUubG9nKCAnYWZ0ZXIgY2FsbCBcIm5hdmkuYWN0aXZhdGUoMylcIiwgcHJpbnQgXCJfbmF2aS5nZXRBY3RpdmF0ZWRJbmRleCgpXCIgOicsIG5hdmkuZ2V0QWN0aXZhdGVkSW5kZXgoKSApO1xyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gdGVzdE5hdmlIYXNUaW1lcigpIHtcclxuICAgIGxldCBuYXZpID0gbmV3IE5hdmlIYXNUaW1lcih7XHJcbiAgICAgIGJ0bnM6ICQoJy5uYXZpIGxpIGEnKSxcclxuXHJcbiAgICAgIG1vdXNlb3ZlckNhbGxiYWNrOiBtb3VzZW92ZXJDYWxsYmFjayxcclxuICAgICAgbW91c2VvdXRDYWxsYmFjazogbW91c2VvdXRDYWxsYmFjayxcclxuICAgICAgY2xpY2tDYWxsYmFjazogY2xpY2tDYWxsYmFjayxcclxuICAgICAgYWN0aXZhdGVDYWxsYmFjazogYWN0aXZhdGVDYWxsYmFjayxcclxuXHJcbiAgICAgIHRpbWVySW50ZXJ2YWw6IDUwMFxyXG4gICAgfSk7XHJcbiAgICBuYXZpLmluaXQoKTtcclxuXHJcbiAgICBmdW5jdGlvbiBtb3VzZW92ZXJDYWxsYmFjayhvYmopIHtcclxuICAgICAgY29uc29sZS5sb2coJ21vdXNlb3ZlciA6Jywgb2JqKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBtb3VzZW91dENhbGxiYWNrKG9iaikge1xyXG4gICAgICBjb25zb2xlLmxvZygnbW91c2VvdXQgOicsIG9iaik7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gY2xpY2tDYWxsYmFjayhvYmopIHtcclxuICAgICAgY29uc29sZS5sb2coJ2NsaWNrIDonLCBvYmopO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGFjdGl2YXRlQ2FsbGJhY2sob2JqKSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKCdhY3RpdmF0ZUNhbGxiYWNrIDonLCBvYmopO1xyXG5cclxuICAgICAgbGV0IGJ0bnMgPSAkKG5hdmkuZ2V0QnRucygpKSxcclxuICAgICAgICBidG4gPSAkKG5hdmkuZ2V0QnRuKG9iai5pbmRleCkpO1xyXG5cclxuICAgICAgYnRucy5yZW1vdmVDbGFzcygnb24nKTtcclxuICAgICAgYnRuLmFkZENsYXNzKCdvbicpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vZ2V0IGFjdGl2YXRlZCBpbmRleFxyXG4gICAgY29uc29sZS5sb2coICdpbml0IG5hdmkgaW5zdGFuY2UuIHRoZW4sIHByaW50IFwiX25hdmkuZ2V0QWN0aXZhdGVkSW5kZXgoKVwiIDonLCBuYXZpLmdldEFjdGl2YXRlZEluZGV4KCkgKTtcclxuXHJcbiAgICAvL2FjdGl2YXRlIDNyZCBidG5cclxuICAgIG5hdmkuYWN0aXZhdGUoMyk7XHJcblxyXG4gICAgLy9nZXQgYWN0aXZhdGVkIGluZGV4XHJcbiAgICBjb25zb2xlLmxvZyggJ2FmdGVyIGNhbGwgXCJuYXZpLmFjdGl2YXRlKDMpXCIsIHByaW50IFwiX25hdmkuZ2V0QWN0aXZhdGVkSW5kZXgoKVwiIDonLCBuYXZpLmdldEFjdGl2YXRlZEluZGV4KCkgKTtcclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIHRlc3RJbWFnZUxvYWRlcigpIHtcclxuICAgIGxldCBpbWdMb2FkZXIgPSBuZXcgSW1hZ2VMb2FkZXIoe1xyXG4gICAgICBsb2FkQ29tcGxldGVDYWxsYmFjazogKG9iaikgPT4ge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCdsb2FkQ29tcGxldGUgOicsIG9iaik7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ2ltZ0xvYWRlci5pc0ZpbmlzaGVkKCkgOicsIGltZ0xvYWRlci5pc0ZpbmlzaGVkKCkpO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCdpbWdMb2FkZXIuZ2V0TG9hZGVkSW1ncygpIDonLCBpbWdMb2FkZXIuZ2V0TG9hZGVkSW1ncygpKTtcclxuICAgICAgfSxcclxuICAgICAgbG9hZFBlckNvbXBsZXRlQ2FsbGJhY2s6IChvYmopID0+IHtcclxuICAgICAgICBjb25zb2xlLmxvZygnbG9hZFBlckNvbXBsZXRlIDonLCBvYmopO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCdpbWdMb2FkZXIuaXNGaW5pc2hlZCgpIDonLCBpbWdMb2FkZXIuaXNGaW5pc2hlZCgpKTtcclxuICAgICAgICBjb25zb2xlLmxvZygnaW1nTG9hZGVyLmdldExvYWRlZEltZ3MoKSA6JywgaW1nTG9hZGVyLmdldExvYWRlZEltZ3MoKSk7XHJcbiAgICAgIH0sXHJcbiAgICAgIGxvYWRFcnJvckNhbGxiYWNrOiAob2JqKSA9PiB7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ2xvYWRFcnJvciA6Jywgb2JqKVxyXG4gICAgICAgIGNvbnNvbGUubG9nKCdpbWdMb2FkZXIuaXNGaW5pc2hlZCgpIDonLCBpbWdMb2FkZXIuaXNGaW5pc2hlZCgpKTtcclxuICAgICAgICBjb25zb2xlLmxvZygnaW1nTG9hZGVyLmdldExvYWRlZEltZ3MoKSA6JywgaW1nTG9hZGVyLmdldExvYWRlZEltZ3MoKSk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIGltZ0xvYWRlci5zdGFydChbXHJcbiAgICAgICdodHRwczovL2ltYWdlcy51bnNwbGFzaC5jb20vcGhvdG8tMTQzMTc5NDA2MjIzMi0yYTk5YTU0MzFjNmM/ZHByPTImYXV0bz1jb21wcmVzcyxmb3JtYXQmY3JvcD1lbnRyb3B5JmZpdD1jcm9wJnc9NzY3Jmg9NTExJnE9ODAmY3M9dGlueXNyZ2InLFxyXG4gICAgICAnaHR0cHM6Ly9pbWFnZXMudW5zcGxhc2guY29tL3Bob3RvLTE0MzU3ODMwOTkyOTQtMjgzNzI1YzM3MicsXHJcbiAgICAgICdodHRwczovL2ltYWdlcy51bnNwbGFzaC5jb20vcGhvdG8tMTQ1OTY2NjY0NDUzOS1hOTc1NTI4N2Q2YjA/ZHByPTImYXV0bz1jb21wcmVzcyxmb3JtYXQmY3JvcD1lbnRyb3B5JmZpdD1jcm9wJnc9NzY3Jmg9NDYzJnE9ODAmY3M9dGlueXNyZ2InXHJcbiAgICBdKTtcclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIHRlc3RGdWxsU2l6ZUJnKCkge1xyXG4gICAgbGV0IGZ1bGxTaXplQmcgPSBuZXcgRnVsbFNpemVCZyh7XHJcbiAgICAgIGltZ1dyYXA6ICQoJy5mdWxsc2l6ZS1iZycpLFxyXG4gICAgICBpbWdXaWR0aDogNDU5MixcclxuICAgICAgaW1nSGVpZ2h0OiAzMDY0LFxyXG4gICAgICBhbGlnblg6ICdjZW50ZXInLFxyXG4gICAgICBhbGlnblk6ICdjZW50ZXInXHJcbiAgICB9KTtcclxuICAgIGZ1bGxTaXplQmcuaW5pdCgpO1xyXG5cclxuICAgICQod2luZG93KS5vbigncmVzaXplJywgZnVuY3Rpb24oZXZ0KSB7XHJcbiAgICAgICQoJyN3cmFwcGVyJykuY3NzKHtcclxuICAgICAgICB3aWR0aDogd2luZG93LmlubmVyV2lkdGgsXHJcbiAgICAgICAgaGVpZ2h0OiB3aW5kb3cuaW5uZXJIZWlnaHRcclxuICAgICAgfSk7XHJcbiAgICB9KS50cmlnZ2VyKCdyZXNpemUnKTtcclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIHRlc3RPdmVybGF5KCkge1xyXG4gICAgbGV0IG92ZXJsYXkgPSBuZXcgT3ZlcmxheSh7XHJcbiAgICAgIGNsYXNzOiAnb3ZlcmxheScsXHJcbiAgICAgIGNvbG9yOiAnI2YwMCcsXHJcbiAgICAgIG9wYWNpdHk6IDAuNSxcclxuICAgICAgYXBwZW5kVG86ICQoJ2JvZHknKVxyXG4gICAgfSk7XHJcbiAgICBvdmVybGF5LmluaXQoKTtcclxuXHJcbiAgICBvdmVybGF5LnNob3coKTtcclxuXHJcbiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xyXG4gICAgICBvdmVybGF5LnNldENzcyh7XHJcbiAgICAgICAgJ2JhY2tncm91bmQtY29sb3InIDogJyMwMGYnXHJcbiAgICAgIH0pO1xyXG4gICAgfSwgMTUwMCk7XHJcblxyXG4gICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcclxuICAgICAgb3ZlcmxheS5oaWRlKCk7XHJcbiAgICB9LCAzMDAwKTtcclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIHRlc3RGdWxsU2l6ZVZpZGVvKCkge1xyXG4gICAgbGV0IGZ1bGxTaXplVmlkZW8gPSBuZXcgRnVsbFNpemVWaWRlbyh7XHJcbiAgICAgIHZpZGVvV3JhcDogJCgnLmZ1bGxzaXplLXZpZGVvJyksXHJcbiAgICAgIHdpZHRoOiAzMjAsXHJcbiAgICAgIGhlaWdodDogMTc2LFxyXG4gICAgICBhbGlnblg6ICdjZW50ZXInLFxyXG4gICAgICBhbGlnblk6ICdjZW50ZXInLFxyXG5cclxuICAgICAgdmlkZW9VcmxzOiBbJ2RhdGEvdmlkZW9fMzIweDE3Ni5tcDQnXSxcclxuICAgICAgXHJcbiAgICAgIHBvc3RlclVybDogJ2h0dHBzOi8vaW1hZ2VzLnVuc3BsYXNoLmNvbS9waG90by0xNDc0NDk2NTE3NTkzLTAxNWQ4YjU5NDUwZD9peGxpYj1yYi0wLjMuNSZxPTgwJmZtPWpwZyZjcm9wPWVudHJvcHkmY3M9dGlueXNyZ2Imcz00OTU2M2Q5OTdkMzZmYWFkMDM4MzNkZGFiOGQxNWMwYScsXHJcbiAgICAgIHBvc3RlckFsdDogJ3Bvc3RlciBhbHQgc3RyaW5nJyxcclxuXHJcbiAgICAgIGF1dG9wbGF5OiB0cnVlLFxyXG4gICAgICBsb29wOiBmYWxzZSxcclxuICAgICAgbXV0ZWQ6IHRydWUsXHJcblxyXG4gICAgICBjYW5wbGF5Q2FsbGJhY2s6IChvYmopID0+IHtcclxuICAgICAgICBjb25zb2xlLmxvZygnY2FucGxheUNhbGxiYWNrIG9iaiA6Jywgb2JqKTtcclxuICAgICAgfSxcclxuICAgICAgdGltZXVwZGF0ZUNhbGxiYWNrOiAob2JqKSA9PiB7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ3RpbWV1cGRhdGVDYWxsYmFjayBvYmogOicsIG9iaik7XHJcbiAgICAgIH0sXHJcbiAgICAgIGVuZGVkQ2FsbGJhY2s6IChvYmopID0+IHtcclxuICAgICAgICBjb25zb2xlLmxvZygnZW5kZWRDYWxsYmFjayBvYmogOicsIG9iaik7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIGZ1bGxTaXplVmlkZW8uaW5pdCgpO1xyXG5cclxuICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XHJcbiAgICAgIGZ1bGxTaXplVmlkZW8ucGxheSgpO1xyXG4gICAgfSwgMjAwMCk7XHJcblxyXG4gICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcclxuICAgICAgZnVsbFNpemVWaWRlby5zdG9wKCk7XHJcbiAgICB9LCA0MDAwKTtcclxuXHJcbiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xyXG4gICAgICBmdWxsU2l6ZVZpZGVvLnNlZWsoNSk7XHJcbiAgICAgIGZ1bGxTaXplVmlkZW8ucGxheSgpO1xyXG4gICAgfSwgNjAwMCk7XHJcblxyXG4gICAgJCh3aW5kb3cpLm9uKCdyZXNpemUnLCBmdW5jdGlvbihldnQpIHtcclxuICAgICAgJCgnI3dyYXBwZXInKS5jc3Moe1xyXG4gICAgICAgIHdpZHRoOiB3aW5kb3cuaW5uZXJXaWR0aCxcclxuICAgICAgICBoZWlnaHQ6IHdpbmRvdy5pbm5lckhlaWdodFxyXG4gICAgICB9KTtcclxuICAgIH0pLnRyaWdnZXIoJ3Jlc2l6ZScpO1xyXG4gIH1cclxuICAqL1xyXG4gIH1cclxufShqUXVlcnkpKTtcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9hcHAvc3JjL21haW4uanMiXSwic291cmNlUm9vdCI6IiJ9")},function(module,exports){eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar BgCanvasVideo = function () {\n  function BgCanvasVideo(options) {\n    _classCallCheck(this, BgCanvasVideo);\n\n    var _ = this;\n\n    _.option = {\n      parent: null, //v\n      videoClass: 'video', //v\n      canvasClass: 'canvas', //v\n\n      width: 320, //v\n      height: 240, //v\n      alignX: 'center',\n      alignY: 'center',\n\n      fps: 30,\n      videoUrl: '', //v\n      posterUrl: '', // TODO\n      posterAlt: '', // TODO\n\n      autoplay: false, //v\n      loop: false, //v\n      muted: false, //v\n\n      canplayCallback: null, //v\n      timeupdateCallback: null, //v\n      endedCallback: null //v\n    };\n    Object.assign(_.option, options);\n\n    _.parent = $(_.option.parent);\n\n    if (_.parent.length <= 0) {\n      throw new Error('BgCanvasVideo Class require options have parent.');\n      return;\n    }\n\n    _.video = null;\n    _.canvas = null;\n    _.ctx = null;\n\n    _.isIOS = /iPad|iPhone|iPod/i.test(navigator.platform);\n    _.isPlaying = false;\n\n    _.lastRenderTime = 0;\n    _.animationFrame = null;\n\n    _.$proxyResize = $.proxy(_.resize, _);\n  }\n\n  _createClass(BgCanvasVideo, [{\n    key: 'init',\n    value: function init(obj) {\n      this.setInstance();\n      this.setCallbacks();\n    }\n  }, {\n    key: 'setInstance',\n    value: function setInstance() {\n      var _ = this,\n          opt = _.option;\n\n      _.parent.append($(_.getVideoTpl()));\n      _.parent.append($(_.getCanvasTpl()));\n\n      _.video = $('.' + _.option.videoClass, _.parent);\n      _.canvas = $('.' + _.option.canvasClass, _.parent);\n      _.ctx = _.canvas.get(0).getContext('2d');\n\n      var video = _.video.get(0);\n      //video.load();\n\n      if (opt.loop === true) video.setAttribute('loop', '');\n      if (opt.muted === true) video.setAttribute('muted', '');\n      if (opt.autoplay === true) video.setAttribute('autoplay', '');\n\n      var size = _.getVideoSizeAspectFill();\n      _.setVideoSize(size.width, size.height);\n      _.setCanvasSize(size.width, size.height);\n      _.setWrapAlign(_.option.alignX, _.option.alignY, size);\n\n      if (_.isIOS) {\n        _.video.hide();\n        if (opt.autoplay) _.play();\n      } else {\n        _.canvas.hide();\n      }\n\n      $(window).on('resize', _.$proxyResize);\n      _.resize();\n    }\n  }, {\n    key: 'setCallbacks',\n    value: function setCallbacks() {\n      var _ = this,\n          opt = _.option,\n          video = _.video.get(0),\n          isVideoHasOnended = video.hasOwnProperty('onended');\n\n      $(video).on('canplay', function (evt) {\n        _.drawVideoToCanvas();\n\n        if (opt.canplayCallback) {\n          opt.canplayCallback.call(null, {\n            event: evt\n          });\n        }\n      });\n\n      $(video).on('timeupdate', function (evt) {\n        _.drawVideoToCanvas();\n\n        if (opt.timeupdateCallback) {\n          opt.timeupdateCallback.call(null, {\n            event: evt,\n            currentTime: video.currentTime,\n            duration: video.duration\n          });\n        }\n\n        if (!isVideoHasOnended && opt.endedCallback) {\n          if (opt.endedCallback && video.currentTime >= video.duration) {\n            opt.endedCallback.call(null, {\n              event: evt,\n              currentTime: video.currentTime,\n              duration: video.duration\n            });\n\n            if (opt.loop === true) {\n              _.seek(0);\n              _.play();\n            } else {\n              _.stop();\n            }\n          }\n        }\n      });\n\n      if (isVideoHasOnended && opt.endedCallback) {\n        $(video).on('ended', function (evt) {\n          opt.endedCallback.call(null, {\n            event: evt,\n            currentTime: video.currentTime,\n            duration: video.duration\n          });\n\n          if (opt.loop === true) {\n            _.seek(0);\n            _.play();\n          } else {\n            _.stop();\n          }\n        });\n      }\n    }\n  }, {\n    key: 'setWrapAlign',\n    value: function setWrapAlign(alignX, alignY, modifiedSize) {\n      var winWidth = window.innerWidth,\n          winHeight = window.innerHeight,\n          left = 0,\n          top = 0;\n\n      switch (alignX) {\n        case 'left':\n          left = 0;\n          break;\n\n        case 'center':\n          left = Math.round((winWidth - modifiedSize.width) / 2);\n          break;\n\n        case 'right':\n          left = Math.round(winWidth - modifiedSize.width);\n          break;\n      }\n\n      switch (alignY) {\n        case 'top':\n          top = 0;\n          break;\n\n        case 'center':\n          top = Math.round((winHeight - modifiedSize.height) / 2);\n          break;\n\n        case 'bottom':\n          top = Math.round(winHeight - modifiedSize.height);\n          break;\n      }\n\n      this.setVideoPosition({ left: left, top: top });\n      this.setCanvasPosition({ left: left, top: top });\n    }\n  }, {\n    key: 'setVideoPosition',\n    value: function setVideoPosition(cssObj) {\n      this.video.css(cssObj);\n    }\n  }, {\n    key: 'setCanvasPosition',\n    value: function setCanvasPosition(cssObj) {\n      this.canvas.css(cssObj);\n    }\n  }, {\n    key: 'setVideoSize',\n    value: function setVideoSize(width, height) {\n      this.video.attr({ width: width, height: height });\n    }\n  }, {\n    key: 'setCanvasSize',\n    value: function setCanvasSize(width, height) {\n      var _ = this;\n      _.ctx.canvas.width = width;\n      _.ctx.canvas.height = height;\n      _.canvas.attr({ width: width, height: height });\n    }\n  }, {\n    key: 'resize',\n    value: function resize(evt) {\n      var _ = this,\n          size = _.getVideoSizeAspectFill();\n\n      _.setVideoSize(size.width, size.height);\n      _.setCanvasSize(size.width, size.height);\n      _.setWrapAlign(_.option.alignX, _.option.alignY, size);\n    }\n  }, {\n    key: 'play',\n    value: function play() {\n      var _ = this;\n      _.isPlaying = true;\n\n      if (_.isIOS) {\n        _.lastRenderTime = Date.now();\n        _.loopAnimationFrame();\n      } else {\n        if (!_.video || _.video.length <= 0) return;\n        var video = _.video.get(0);\n        video.play();\n      }\n    }\n  }, {\n    key: 'pause',\n    value: function pause() {\n      var _ = this;\n      _.isPlaying = false;\n\n      if (_.isIOS) {\n        window.cancelAnimationFrame(_.animationFrame);\n        _.animationFrame = null;\n      } else {\n        if (!_.video || _.video.length <= 0) return;\n        var video = _.video.get(0);\n        video.pause();\n      }\n    }\n  }, {\n    key: 'stop',\n    value: function stop() {\n      var _ = this;\n      _.isPlaying = false;\n\n      if (_.isIOS) {\n        window.cancelAnimationFrame(_.animationFrame);\n        _.animationFrame = null;\n        _.lastRenderTime = 0; // TODO - confirm\n      } else {\n        if (!_.video || _.video.length <= 0) return;\n        var video = _.video.get(0);\n        video.pause();\n        video.currentTime = 0;\n      }\n    }\n  }, {\n    key: 'seek',\n    value: function seek(second) {\n      var _ = this;\n      if (!_.video || _.video.length <= 0) return;\n\n      var video = _.video.get(0);\n      video.currentTime = second;\n\n      _.drawVideoToCanvas();\n    }\n  }, {\n    key: 'drawVideoToCanvas',\n    value: function drawVideoToCanvas() {\n      var _ = this,\n          video = _.video.get(0);\n      _.ctx.drawImage(video, 0, 0, _.video.width(), _.video.height());\n    }\n  }, {\n    key: 'loopAnimationFrame',\n    value: function loopAnimationFrame() {\n      var _ = this;\n\n      var now = Date.now();\n      var elapsedTime = (now - _.lastRenderTime) / 1000;\n\n      if (elapsedTime >= 1 / _.option.fps) {\n        _.video.currentTime = _.video.currentTime + elapsedTime;\n        _.lastRenderTime = now;\n      }\n\n      if (_.video.currentTime >= _.video.duration) {\n        _.isPlaying = false;\n\n        if (_.option.loop === true) {\n          _.video.currentTime = 0;\n          _.play();\n        }\n      }\n\n      if (_.isPlaying) {\n        _.animationFrame = window.requestAnimationFrame(function () {\n          _.loopAnimationFrame();\n        });\n      } else {\n        window.cancelAnimationFrame(_.animationFrame);\n        _.animationFrame = null;\n      }\n    }\n  }, {\n    key: 'getVideoTpl',\n    value: function getVideoTpl() {\n      var _ = this,\n          opt = _.option;\n\n      var videoSourceTpl = '',\n          ext = opt.videoUrl.split('.').pop().toLowerCase();\n      videoSourceTpl += '<source src=\"' + opt.videoUrl + '\" type=\"video/' + ext + '\"></source>';\n\n      var tpl = '<video class=\"' + opt.videoClass + '\" poster=\"' + opt.posterUrl + '\">' + videoSourceTpl + '</video>';\n      // let tpl = `<video class=\"${opt.videoClass}\" muted=\"true\" loop=\"true\" autoplay=\"true\" poster=\"\">${videoSourceTpl}</video>`;\n      return tpl;\n    }\n  }, {\n    key: 'getCanvasTpl',\n    value: function getCanvasTpl() {\n      return '<canvas class=\"' + this.option.canvasClass + '\"></canvas>';\n    }\n  }, {\n    key: 'getVideoSizeAspectFill',\n    value: function getVideoSizeAspectFill() {\n      var _ = this,\n          opt = _.option;\n\n      var winWidth = window.innerWidth,\n          winHeight = window.innerHeight,\n          modifiedSizeW = winWidth,\n          modifiedSizeH = Math.ceil(winWidth / opt.width * opt.height);\n\n      if (modifiedSizeH < winHeight) {\n        modifiedSizeW = Math.ceil(winHeight / opt.height * opt.width);\n        modifiedSizeH = winHeight;\n      }\n\n      return {\n        width: modifiedSizeW,\n        height: modifiedSizeH\n      };\n    }\n  }]);\n\n  return BgCanvasVideo;\n}();\n\nexports.default = BgCanvasVideo;\n\n/*\r\n class Movie{\r\n constructor( $parent, options ) {\r\n\r\n this.$parent = $parent;\r\n\r\n this.options = {\r\n   framesPerSecond: 25,\r\n   hideVideo: true,\r\n   autoplay: true,\r\n   loop: true,\r\n   fixedTop: false,\r\n   movieWidth: 960,\r\n   movieHeight: 540,\r\n   movieUrl : '',\r\n   poster: ''\r\n }\r\n\r\n jQuery.extend( true, this.options, options );\r\n\r\n this.videoNode = jQuery( this.tmplVideo() );\r\n this.canvasNode = jQuery( this.tmplCanvas() );\r\n\r\n this.$parent.append( this.videoNode );\r\n this.video = this.videoNode.get( 0 );\r\n\r\n this.$parent.append( this.canvasNode );\r\n this.canvas = this.canvasNode.get( 0 );\r\n\r\n this.ctx = this.canvas.getContext( '2d' );\r\n\r\n this.playing = false;\r\n // this.resizeTimeoutReference = false;\r\n // this.resizeTimout = 100;\r\n\r\n this.init();\r\n this.bind();\r\n\r\n if( !this.isIOS() ){\r\n this.canvasNode.hide();\r\n }\r\n }\r\n\r\n isIOS() {\r\n return /iPad|iPhone|iPod/.test( navigator.platform );\r\n }\r\n\r\n             position() {\r\n             let movieWidth = this.width;\r\n             let movieHeight = this.height;\r\n             let winWidth = jQuery( window ).width();\r\n             let winHeight = jQuery( window ).height();\r\n\r\n             let left =  -( movieWidth - winWidth ) / 2;\r\n             let top = -( movieHeight - winHeight )  / 2;\r\n\r\n             if( this.options.fixedTop ) {\r\n             top = 0;\r\n             }\r\n\r\n             if( this.isIOS() ){\r\n             this.canvasNode.css({position:'absolute', left: left, top: top});\r\n             }else{\r\n             this.videoNode.css({position:'absolute', left: left, top: top});\r\n             }\r\n             }\r\n\r\n init() {\r\n this.video.load();\r\n this.setCanvasSize();\r\n this.position();\r\n\r\n if ( this.isIOS() && this.options.hideVideo )\r\n this.videoNode.hide();\r\n }\r\n\r\n bind() {\r\n   if( this.isIOS() ){\r\n     this.video.addEventListener('timeupdate', () => {\r\n     this.drawFrame();\r\n   });\r\n\r\n   this.video.addEventListener('canplay', () => {\r\n   this.drawFrame();\r\n   });\r\n\r\n   if (this.video.readyState >= 2) {\r\n   this.drawFrame();\r\n   }\r\n   }\r\n\r\n   if ( this.isIOS() && this.options.autoplay ) {\r\n    this.play();\r\n   }\r\n\r\n // Cache canvas size on resize (doing it only once in a second)\r\n jQuery( window ).on('resize', () => {\r\n //clearTimeout( this.resizeTimeoutReference );\r\n\r\n //this.resizeTimeoutReference = setTimeout(() => {\r\n this.setCanvasSize();\r\n this.position();\r\n\r\n if( this.isIOS() ) this.drawFrame();\r\n //}, this.resizeTimout );\r\n });\r\n\r\n   jQuery( document ).bind( 'webkitvisibilitychange', function(){\r\n     if ( !window._checkVisibilityChange ) return;\r\n       if ( document[ 'webkitHidden' ] ) {\r\n         this.pause();\r\n       } else {\r\n         this.play();\r\n       }\r\n     });\r\n   }\r\n\r\n   setCanvasSize() {\r\n   let movieWidth = this.options.movieWidth;\r\n   let movieHeight = this.options.movieHeight;\r\n   let winWidth = jQuery( window ).width();\r\n   let winHeight = jQuery( window ).height();\r\n\r\n   this.height = Math.ceil( winHeight );\r\n   this.width = Math.ceil( this.height * movieWidth / movieHeight );\r\n\r\n   if( this.width < winWidth ){\r\n     this.height = Math.ceil( winHeight + ( ( winWidth - this.width ) * 9 / 16 ) );\r\n     this.width = Math.ceil( this.height * movieWidth / movieHeight );\r\n   }\r\n\r\n   if( this.isIOS() ){\r\n     this.ctx.canvas.width = this.width;\r\n     this.ctx.canvas.height = this.height;\r\n\r\n     this.canvasNode.attr('width', this.width);\r\n     this.canvasNode.attr('height', this.height);\r\n   }else{\r\n     this.videoNode.width( this.width );\r\n     this.videoNode.height( this.height );\r\n   }\r\n }\r\n\r\n play () {\r\n   if( this.isIOS() ){\r\n     this.lastTime = Date.now();\r\n     this.playing = true;\r\n     this.loop();\r\n   }else{\r\n     this.playing = true;\r\n     this.videoNode.get( 0 ).play();\r\n   }\r\n }\r\n\r\n pause() {\r\n   if( this.isIOS() ){\r\n     this.playing = false;\r\n   }else{\r\n     this.playing = false;\r\n     this.videoNode.get( 0 ).pause();\r\n   }\r\n }\r\n\r\n playPause() {\r\n   if (this.playing) {\r\n     this.pause();\r\n   } else {\r\n     this.play();\r\n   }\r\n }\r\n\r\n loop () {\r\n   let time = Date.now();\r\n   let elapsed = ( time - this.lastTime ) / 1000;\r\n\r\n   // Render\r\n   if( elapsed >= (1 / this.options.framesPerSecond ) ) {\r\n     this.video.currentTime = this.video.currentTime + elapsed;\r\n     this.lastTime = time;\r\n   }\r\n\r\n   if (this.video.currentTime >= this.video.duration) {\r\n     this.playing = false;\r\n\r\n     if (this.options.loop === true) {\r\n       this.video.currentTime = 0;\r\n       this.play();\r\n     }\r\n   }\r\n\r\n   if ( this.playing ) {\r\n      this.animationFrame = requestAnimationFrame( () => {\r\n      this.loop();\r\n     });\r\n   }else {\r\n     cancelAnimationFrame( this.animationFrame );\r\n   }\r\n }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n tmplVideo () {\r\n return `<video class=\"video\" muted=\"true\" loop=\"true\" autoplay=\"true\" poster=\"${this.options.poster}\">\r\n <source src=\"${this.options.movieUrl}\" type=\"video/mp4\"></video>`;\r\n }\r\n\r\n tmplCanvas() {\r\n return '<canvas class=\"canvas\"></canvas>';\r\n }\r\n\r\n drawFrame() {\r\n this.ctx.drawImage(this.video, 0, 0, this.width, this.height);\r\n }\r\n }\r\n\r\n module.exports = Movie;\r\n *///# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9hcHAvc3JjL2NvbXBvbmVudC9CZ0NhbnZhc1ZpZGVvLmpzP2NkYzAiXSwibmFtZXMiOlsiQmdDYW52YXNWaWRlbyIsIm9wdGlvbnMiLCJfIiwib3B0aW9uIiwicGFyZW50IiwidmlkZW9DbGFzcyIsImNhbnZhc0NsYXNzIiwid2lkdGgiLCJoZWlnaHQiLCJhbGlnblgiLCJhbGlnblkiLCJmcHMiLCJ2aWRlb1VybCIsInBvc3RlclVybCIsInBvc3RlckFsdCIsImF1dG9wbGF5IiwibG9vcCIsIm11dGVkIiwiY2FucGxheUNhbGxiYWNrIiwidGltZXVwZGF0ZUNhbGxiYWNrIiwiZW5kZWRDYWxsYmFjayIsIk9iamVjdCIsImFzc2lnbiIsIiQiLCJsZW5ndGgiLCJFcnJvciIsInZpZGVvIiwiY2FudmFzIiwiY3R4IiwiaXNJT1MiLCJ0ZXN0IiwibmF2aWdhdG9yIiwicGxhdGZvcm0iLCJpc1BsYXlpbmciLCJsYXN0UmVuZGVyVGltZSIsImFuaW1hdGlvbkZyYW1lIiwiJHByb3h5UmVzaXplIiwicHJveHkiLCJyZXNpemUiLCJvYmoiLCJzZXRJbnN0YW5jZSIsInNldENhbGxiYWNrcyIsIm9wdCIsImFwcGVuZCIsImdldFZpZGVvVHBsIiwiZ2V0Q2FudmFzVHBsIiwiZ2V0IiwiZ2V0Q29udGV4dCIsInNldEF0dHJpYnV0ZSIsInNpemUiLCJnZXRWaWRlb1NpemVBc3BlY3RGaWxsIiwic2V0VmlkZW9TaXplIiwic2V0Q2FudmFzU2l6ZSIsInNldFdyYXBBbGlnbiIsImhpZGUiLCJwbGF5Iiwid2luZG93Iiwib24iLCJpc1ZpZGVvSGFzT25lbmRlZCIsImhhc093blByb3BlcnR5IiwiZXZ0IiwiZHJhd1ZpZGVvVG9DYW52YXMiLCJjYWxsIiwiZXZlbnQiLCJjdXJyZW50VGltZSIsImR1cmF0aW9uIiwic2VlayIsInN0b3AiLCJtb2RpZmllZFNpemUiLCJ3aW5XaWR0aCIsImlubmVyV2lkdGgiLCJ3aW5IZWlnaHQiLCJpbm5lckhlaWdodCIsImxlZnQiLCJ0b3AiLCJNYXRoIiwicm91bmQiLCJzZXRWaWRlb1Bvc2l0aW9uIiwic2V0Q2FudmFzUG9zaXRpb24iLCJjc3NPYmoiLCJjc3MiLCJhdHRyIiwiRGF0ZSIsIm5vdyIsImxvb3BBbmltYXRpb25GcmFtZSIsImNhbmNlbEFuaW1hdGlvbkZyYW1lIiwicGF1c2UiLCJzZWNvbmQiLCJkcmF3SW1hZ2UiLCJlbGFwc2VkVGltZSIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsInZpZGVvU291cmNlVHBsIiwiZXh0Iiwic3BsaXQiLCJwb3AiLCJ0b0xvd2VyQ2FzZSIsInRwbCIsIm1vZGlmaWVkU2l6ZVciLCJtb2RpZmllZFNpemVIIiwiY2VpbCJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztJQUFNQSxhO0FBQ0oseUJBQVlDLE9BQVosRUFBcUI7QUFBQTs7QUFDbkIsUUFBSUMsSUFBSSxJQUFSOztBQUVBQSxNQUFFQyxNQUFGLEdBQVc7QUFDVEMsY0FBUSxJQURDLEVBQ0s7QUFDZEMsa0JBQVksT0FGSCxFQUVZO0FBQ3JCQyxtQkFBYSxRQUhKLEVBR2M7O0FBRXZCQyxhQUFPLEdBTEUsRUFLRztBQUNaQyxjQUFRLEdBTkMsRUFNSTtBQUNiQyxjQUFRLFFBUEM7QUFRVEMsY0FBUSxRQVJDOztBQVVUQyxXQUFLLEVBVkk7QUFXVEMsZ0JBQVUsRUFYRCxFQVdLO0FBQ2RDLGlCQUFXLEVBWkYsRUFZTTtBQUNmQyxpQkFBVyxFQWJGLEVBYU07O0FBRWZDLGdCQUFVLEtBZkQsRUFlUTtBQUNqQkMsWUFBTSxLQWhCRyxFQWdCSTtBQUNiQyxhQUFPLEtBakJFLEVBaUJLOztBQUVkQyx1QkFBaUIsSUFuQlIsRUFtQmM7QUFDdkJDLDBCQUFvQixJQXBCWCxFQW9CaUI7QUFDMUJDLHFCQUFlLElBckJOLENBcUJXO0FBckJYLEtBQVg7QUF1QkFDLFdBQU9DLE1BQVAsQ0FBY3BCLEVBQUVDLE1BQWhCLEVBQXdCRixPQUF4Qjs7QUFFQUMsTUFBRUUsTUFBRixHQUFXbUIsRUFBRXJCLEVBQUVDLE1BQUYsQ0FBU0MsTUFB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QUFwRSxhQUFKO0FBQ0E7QUFDQSxhQUFPSyxHQUFQO0FBQ0Q7OzttQ0FFYztBQUNiLGlDQUF5QixLQUFLN0YsTUFBTCxDQUFZRyxXQUFyQztBQUNEOzs7NkNBRXdCO0FBQ3ZCLFVBQUlKLElBQUksSUFBUjtBQUFBLFVBQ0V3QyxNQUFNeEMsRUFBRUMsTUFEVjs7QUFHQSxVQUFJa0UsV0FBV2IsT0FBT2MsVUFBdEI7QUFBQSxVQUNFQyxZQUFZZixPQUFPZ0IsV0FEckI7QUFBQSxVQUVFeUIsZ0JBQWdCNUIsUUFGbEI7QUFBQSxVQUdFNkIsZ0JBQWdCdkIsS0FBS3dCLElBQUwsQ0FBVzlCLFdBQVczQixJQUFJbkMsS0FBaEIsR0FBeUJtQyxJQUFJbEMsTUFBdkMsQ0FIbEI7O0FBS0EsVUFBSTBGLGdCQUFnQjNCLFNBQXBCLEVBQStCO0FBQzdCMEIsd0JBQWdCdEIsS0FBS3dCLElBQUwsQ0FBVzVCLFlBQVk3QixJQUFJbEMsTUFBakIsR0FBMkJrQyxJQUFJbkMsS0FBekMsQ0FBaEI7QUFDQTJGLHdCQUFnQjNCLFNBQWhCO0FBQ0Q7O0FBRUQsYUFBTztBQUNMaEUsZUFBTzBGLGFBREY7QUFFTHpGLGdCQUFRMEY7QUFGSCxPQUFQO0FBSUQ7Ozs7OztrQkFHWWxHLGE7O0FBRWYiLCJmaWxlIjoiMi5qcyIsInNvdXJjZXNDb250ZW50IjpbImNsYXNzIEJnQ2FudmFzVmlkZW8ge1xyXG4gIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcclxuICAgIGxldCBfID0gdGhpcztcclxuXHJcbiAgICBfLm9wdGlvbiA9IHtcclxuICAgICAgcGFyZW50OiBudWxsLCAvL3ZcclxuICAgICAgdmlkZW9DbGFzczogJ3ZpZGVvJywgLy92XHJcbiAgICAgIGNhbnZhc0NsYXNzOiAnY2FudmFzJywgLy92XHJcblxyXG4gICAgICB3aWR0aDogMzIwLCAvL3ZcclxuICAgICAgaGVpZ2h0OiAyNDAsIC8vdlxyXG4gICAgICBhbGlnblg6ICdjZW50ZXInLFxyXG4gICAgICBhbGlnblk6ICdjZW50ZXInLFxyXG5cclxuICAgICAgZnBzOiAzMCxcclxuICAgICAgdmlkZW9Vcmw6ICcnLCAvL3ZcclxuICAgICAgcG9zdGVyVXJsOiAnJywgLy8gVE9ET1xyXG4gICAgICBwb3N0ZXJBbHQ6ICcnLCAvLyBUT0RPXHJcblxyXG4gICAgICBhdXRvcGxheTogZmFsc2UsIC8vdlxyXG4gICAgICBsb29wOiBmYWxzZSwgLy92XHJcbiAgICAgIG11dGVkOiBmYWxzZSwgLy92XHJcblxyXG4gICAgICBjYW5wbGF5Q2FsbGJhY2s6IG51bGwsIC8vdlxyXG4gICAgICB0aW1ldXBkYXRlQ2FsbGJhY2s6IG51bGwsIC8vdlxyXG4gICAgICBlbmRlZENhbGxiYWNrOiBudWxsIC8vdlxyXG4gICAgfTtcclxuICAgIE9iamVjdC5hc3NpZ24oXy5vcHRpb24sIG9wdGlvbnMpO1xyXG5cclxuICAgIF8ucGFyZW50ID0gJChfLm9wdGlvbi5wYXJlbnQpO1xyXG5cclxuICAgIGlmIChfLnBhcmVudC5sZW5ndGggPD0gMCkge1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0JnQ2FudmFzVmlkZW8gQ2xhc3MgcmVxdWlyZSBvcHRpb25zIGhhdmUgcGFyZW50LicpO1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgXy52aWRlbyA9IG51bGw7XHJcbiAgICBfLmNhbnZhcyA9IG51bGw7XHJcbiAgICBfLmN0eCA9IG51bGw7XHJcblxyXG4gICAgXy5pc0lPUyA9IC9pUGFkfGlQaG9uZXxpUG9kL2kudGVzdChuYXZpZ2F0b3IucGxhdGZvcm0pO1xyXG4gICAgXy5pc1BsYXlpbmcgPSBmYWxzZTtcclxuXHJcbiAgICBfLmxhc3RSZW5kZXJUaW1lID0gMDtcclxuICAgIF8uYW5pbWF0aW9uRnJhbWUgPSBudWxsO1xyXG5cclxuICAgIF8uJHByb3h5UmVzaXplID0gJC5wcm94eShfLnJlc2l6ZSwgXyk7XHJcbiAgfVxyXG5cclxuICBpbml0KG9iaikge1xyXG4gICAgdGhpcy5zZXRJbnN0YW5jZSgpO1xyXG4gICAgdGhpcy5zZXRDYWxsYmFja3MoKTtcclxuICB9XHJcblxyXG4gIHNldEluc3RhbmNlKCkge1xyXG4gICAgbGV0IF8gPSB0aGlzLFxyXG4gICAgICBvcHQgPSBfLm9wdGlvbjtcclxuXHJcbiAgICBfLnBhcmVudC5hcHBlbmQoICQoXy5nZXRWaWRlb1RwbCgpKSApO1xyXG4gICAgXy5wYXJlbnQuYXBwZW5kKCAkKF8uZ2V0Q2FudmFzVHBsKCkpICk7XHJcblxyXG4gICAgXy52aWRlbyA9ICQoYC4ke18ub3B0aW9uLnZpZGVvQ2xhc3N9YCwgXy5wYXJlbnQpO1xyXG4gICAgXy5jYW52YXMgPSAkKGAuJHtfLm9wdGlvbi5jYW52YXNDbGFzc31gLCBfLnBhcmVudCk7XHJcbiAgICBfLmN0eCA9IF8uY2FudmFzLmdldCgwKS5nZXRDb250ZXh0KCcyZCcpO1xyXG5cclxuICAgIGxldCB2aWRlbyA9IF8udmlkZW8uZ2V0KDApO1xyXG4gICAgLy92aWRlby5sb2FkKCk7XHJcblxyXG4gICAgaWYgKG9wdC5sb29wID09PSB0cnVlKSB2aWRlby5zZXRBdHRyaWJ1dGUoJ2xvb3AnLCAnJyk7XHJcbiAgICBpZiAob3B0Lm11dGVkID09PSB0cnVlKSB2aWRlby5zZXRBdHRyaWJ1dGUoJ211dGVkJywgJycpO1xyXG4gICAgaWYgKG9wdC5hdXRvcGxheSA9PT0gdHJ1ZSkgdmlkZW8uc2V0QXR0cmlidXRlKCdhdXRvcGxheScsICcnKTtcclxuXHJcbiAgICBsZXQgc2l6ZSA9IF8uZ2V0VmlkZW9TaXplQXNwZWN0RmlsbCgpO1xyXG4gICAgXy5zZXRWaWRlb1NpemUoc2l6ZS53aWR0aCwgc2l6ZS5oZWlnaHQpO1xyXG4gICAgXy5zZXRDYW52YXNTaXplKHNpemUud2lkdGgsIHNpemUuaGVpZ2h0KTtcclxuICAgIF8uc2V0V3JhcEFsaWduKF8ub3B0aW9uLmFsaWduWCwgXy5vcHRpb24uYWxpZ25ZLCBzaXplKTtcclxuXHJcbiAgICBpZiggXy5pc0lPUyApIHtcclxuICAgICAgIF8udmlkZW8uaGlkZSgpO1xyXG4gICAgICBpZiAob3B0LmF1dG9wbGF5KSBfLnBsYXkoKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIF8uY2FudmFzLmhpZGUoKTtcclxuICAgIH1cclxuXHJcbiAgICAkKHdpbmRvdykub24oJ3Jlc2l6ZScsIF8uJHByb3h5UmVzaXplKTtcclxuICAgIF8ucmVzaXplKCk7XHJcbiAgfVxyXG5cclxuXHJcblxyXG4gIHNldENhbGxiYWNrcygpIHtcclxuICAgIGxldCBfID0gdGhpcyxcclxuICAgICAgb3B0ID0gXy5vcHRpb24sXHJcbiAgICAgIHZpZGVvID0gXy52aWRlby5nZXQoMCksXHJcbiAgICAgIGlzVmlkZW9IYXNPbmVuZGVkID0gdmlkZW8uaGFzT3duUHJvcGVydHkoJ29uZW5kZWQnKTtcclxuXHJcbiAgICAkKHZpZGVvKS5vbignY2FucGxheScsIChldnQpID0+IHtcclxuICAgICAgXy5kcmF3VmlkZW9Ub0NhbnZhcygpO1xyXG5cclxuICAgICAgaWYgKG9wdC5jYW5wbGF5Q2FsbGJhY2spIHtcclxuICAgICAgICBvcHQuY2FucGxheUNhbGxiYWNrLmNhbGwobnVsbCwge1xyXG4gICAgICAgICAgZXZlbnQ6IGV2dFxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICAkKHZpZGVvKS5vbigndGltZXVwZGF0ZScsIChldnQpID0+IHtcclxuICAgICAgXy5kcmF3VmlkZW9Ub0NhbnZhcygpO1xyXG5cclxuICAgICAgaWYgKG9wdC50aW1ldXBkYXRlQ2FsbGJhY2spIHtcclxuICAgICAgICBvcHQudGltZXVwZGF0ZUNhbGxiYWNrLmNhbGwobnVsbCwge1xyXG4gICAgICAgICAgZXZlbnQ6IGV2dCxcclxuICAgICAgICAgIGN1cnJlbnRUaW1lOiB2aWRlby5jdXJyZW50VGltZSxcclxuICAgICAgICAgIGR1cmF0aW9uOiB2aWRlby5kdXJhdGlvblxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZighaXNWaWRlb0hhc09uZW5kZWQgJiYgb3B0LmVuZGVkQ2FsbGJhY2spIHtcclxuICAgICAgICBpZiAob3B0LmVuZGVkQ2FsbGJhY2sgJiYgKHZpZGVvLmN1cnJlbnRUaW1lID49IHZpZGVvLmR1cmF0aW9uKSkge1xyXG4gICAgICAgICAgb3B0LmVuZGVkQ2FsbGJhY2suY2FsbChudWxsLCB7XHJcbiAgICAgICAgICAgIGV2ZW50OiBldnQsXHJcbiAgICAgICAgICAgIGN1cnJlbnRUaW1lOiB2aWRlby5jdXJyZW50VGltZSxcclxuICAgICAgICAgICAgZHVyYXRpb246IHZpZGVvLmR1cmF0aW9uXHJcbiAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICBpZihvcHQubG9vcCA9PT0gdHJ1ZSkge1xyXG4gICAgICAgICAgICBfLnNlZWsoMCk7XHJcbiAgICAgICAgICAgIF8ucGxheSgpO1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgXy5zdG9wKCk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICBpZiAoaXNWaWRlb0hhc09uZW5kZWQgJiYgb3B0LmVuZGVkQ2FsbGJhY2spIHtcclxuICAgICAgJCh2aWRlbykub24oJ2VuZGVkJywgKGV2dCkgPT4ge1xyXG4gICAgICAgIG9wdC5lbmRlZENhbGxiYWNrLmNhbGwobnVsbCwge1xyXG4gICAgICAgICAgZXZlbnQ6IGV2dCxcclxuICAgICAgICAgIGN1cnJlbnRUaW1lOiB2aWRlby5jdXJyZW50VGltZSxcclxuICAgICAgICAgIGR1cmF0aW9uOiB2aWRlby5kdXJhdGlvblxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBpZihvcHQubG9vcCA9PT0gdHJ1ZSkge1xyXG4gICAgICAgICAgXy5zZWVrKDApO1xyXG4gICAgICAgICAgXy5wbGF5KCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIF8uc3RvcCgpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBzZXRXcmFwQWxpZ24oYWxpZ25YLCBhbGlnblksIG1vZGlmaWVkU2l6ZSkge1xyXG4gICAgbGV0IHdpbldpZHRoID0gd2luZG93LmlubmVyV2lkdGgsXHJcbiAgICAgIHdpbkhlaWdodCA9IHdpbmRvdy5pbm5lckhlaWdodCxcclxuICAgICAgbGVmdCA9IDAsXHJcbiAgICAgIHRvcCA9IDA7XHJcblxyXG4gICAgc3dpdGNoIChhbGlnblgpIHtcclxuICAgICAgY2FzZSAnbGVmdCcgOlxyXG4gICAgICAgIGxlZnQgPSAwO1xyXG4gICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgY2FzZSAnY2VudGVyJyA6XHJcbiAgICAgICAgbGVmdCA9IE1hdGgucm91bmQoKHdpbldpZHRoIC0gbW9kaWZpZWRTaXplLndpZHRoKSAvIDIpO1xyXG4gICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgY2FzZSAncmlnaHQnIDpcclxuICAgICAgICBsZWZ0ID0gTWF0aC5yb3VuZCh3aW5XaWR0aCAtIG1vZGlmaWVkU2l6ZS53aWR0aCk7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICB9XHJcblxyXG4gICAgc3dpdGNoIChhbGlnblkpIHtcclxuICAgICAgY2FzZSAndG9wJyA6XHJcbiAgICAgICAgdG9wID0gMDtcclxuICAgICAgICBicmVhaztcclxuXHJcbiAgICAgIGNhc2UgJ2NlbnRlcicgOlxyXG4gICAgICAgIHRvcCA9IE1hdGgucm91bmQoKHdpbkhlaWdodCAtIG1vZGlmaWVkU2l6ZS5oZWlnaHQpIC8gMik7XHJcbiAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICBjYXNlICdib3R0b20nIDpcclxuICAgICAgICB0b3AgPSBNYXRoLnJvdW5kKHdpbkhlaWdodCAtIG1vZGlmaWVkU2l6ZS5oZWlnaHQpO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuc2V0VmlkZW9Qb3NpdGlvbih7IGxlZnQ6IGxlZnQsIHRvcDogdG9wIH0pO1xyXG4gICAgdGhpcy5zZXRDYW52YXNQb3NpdGlvbih7IGxlZnQ6IGxlZnQsIHRvcDogdG9wIH0pXHJcbiAgfVxyXG5cclxuICBzZXRWaWRlb1Bvc2l0aW9uKGNzc09iaikge1xyXG4gICAgdGhpcy52aWRlby5jc3MoY3NzT2JqKTtcclxuICB9XHJcblxyXG4gIHNldENhbnZhc1Bvc2l0aW9uKGNzc09iaikge1xyXG4gICAgdGhpcy5jYW52YXMuY3NzKGNzc09iaik7XHJcbiAgfVxyXG5cclxuICBzZXRWaWRlb1NpemUod2lkdGgsIGhlaWdodCkge1xyXG4gICAgdGhpcy52aWRlby5hdHRyKHt3aWR0aDogd2lkdGgsIGhlaWdodDogaGVpZ2h0fSk7XHJcbiAgfVxyXG5cclxuICBzZXRDYW52YXNTaXplKHdpZHRoLCBoZWlnaHQpIHtcclxuICAgIGxldCBfID0gdGhpcztcclxuICAgIF8uY3R4LmNhbnZhcy53aWR0aCA9IHdpZHRoO1xyXG4gICAgXy5jdHguY2FudmFzLmhlaWdodCA9IGhlaWdodDtcclxuICAgIF8uY2FudmFzLmF0dHIoe3dpZHRoOiB3aWR0aCwgaGVpZ2h0OiBoZWlnaHR9KTtcclxuICB9XHJcblxyXG4gIHJlc2l6ZShldnQpIHtcclxuICAgIGxldCBfID0gdGhpcyxcclxuICAgICAgc2l6ZSA9IF8uZ2V0VmlkZW9TaXplQXNwZWN0RmlsbCgpO1xyXG5cclxuICAgIF8uc2V0VmlkZW9TaXplKHNpemUud2lkdGgsIHNpemUuaGVpZ2h0KTtcclxuICAgIF8uc2V0Q2FudmFzU2l6ZShzaXplLndpZHRoLCBzaXplLmhlaWdodCk7XHJcbiAgICBfLnNldFdyYXBBbGlnbihfLm9wdGlvbi5hbGlnblgsIF8ub3B0aW9uLmFsaWduWSwgc2l6ZSk7XHJcbiAgfVxyXG5cclxuXHJcblxyXG4gIHBsYXkoKSB7XHJcbiAgICBsZXQgXyA9IHRoaXM7XHJcbiAgICBfLmlzUGxheWluZyA9IHRydWU7XHJcblxyXG4gICAgaWYoIF8uaXNJT1MgKSB7XHJcbiAgICAgIF8ubGFzdFJlbmRlclRpbWUgPSBEYXRlLm5vdygpO1xyXG4gICAgICBfLmxvb3BBbmltYXRpb25GcmFtZSgpO1xyXG5cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGlmICghXy52aWRlbyB8fCBfLnZpZGVvLmxlbmd0aCA8PSAwKSByZXR1cm47XHJcbiAgICAgIGxldCB2aWRlbyA9IF8udmlkZW8uZ2V0KDApO1xyXG4gICAgICB2aWRlby5wbGF5KCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBwYXVzZSgpIHtcclxuICAgIGxldCBfID0gdGhpcztcclxuICAgIF8uaXNQbGF5aW5nID0gZmFsc2U7XHJcblxyXG4gICAgaWYoIF8uaXNJT1MgKSB7XHJcbiAgICAgIHdpbmRvdy5jYW5jZWxBbmltYXRpb25GcmFtZSggXy5hbmltYXRpb25GcmFtZSApO1xyXG4gICAgICBfLmFuaW1hdGlvbkZyYW1lID0gbnVsbDtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGlmICghXy52aWRlbyB8fCBfLnZpZGVvLmxlbmd0aCA8PSAwKSByZXR1cm47XHJcbiAgICAgIGxldCB2aWRlbyA9IF8udmlkZW8uZ2V0KDApO1xyXG4gICAgICB2aWRlby5wYXVzZSgpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgc3RvcCgpIHtcclxuICAgIGxldCBfID0gdGhpcztcclxuICAgIF8uaXNQbGF5aW5nID0gZmFsc2U7XHJcblxyXG4gICAgaWYoIF8uaXNJT1MgKSB7XHJcbiAgICAgIHdpbmRvdy5jYW5jZWxBbmltYXRpb25GcmFtZSggXy5hbmltYXRpb25GcmFtZSApO1xyXG4gICAgICBfLmFuaW1hdGlvbkZyYW1lID0gbnVsbDtcclxuICAgICAgXy5sYXN0UmVuZGVyVGltZSA9IDA7IC8vIFRPRE8gLSBjb25maXJtXHJcblxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgaWYgKCFfLnZpZGVvIHx8IF8udmlkZW8ubGVuZ3RoIDw9IDApIHJldHVybjtcclxuICAgICAgbGV0IHZpZGVvID0gXy52aWRlby5nZXQoMCk7XHJcbiAgICAgIHZpZGVvLnBhdXNlKCk7XHJcbiAgICAgIHZpZGVvLmN1cnJlbnRUaW1lID0gMDtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHNlZWsoc2Vjb25kKSB7XHJcbiAgICBsZXQgXyA9IHRoaXM7XHJcbiAgICBpZiAoIV8udmlkZW8gfHwgXy52aWRlby5sZW5ndGggPD0gMCkgcmV0dXJuO1xyXG5cclxuICAgIGxldCB2aWRlbyA9IF8udmlkZW8uZ2V0KDApO1xyXG4gICAgdmlkZW8uY3VycmVudFRpbWUgPSBzZWNvbmQ7XHJcblxyXG4gICAgXy5kcmF3VmlkZW9Ub0NhbnZhcygpO1xyXG4gIH1cclxuXHJcbiAgZHJhd1ZpZGVvVG9DYW52YXMoKSB7XHJcbiAgICBsZXQgXyA9IHRoaXMsXHJcbiAgICAgIHZpZGVvID0gXy52aWRlby5nZXQoMCk7XHJcbiAgICBfLmN0eC5kcmF3SW1hZ2UodmlkZW8sIDAsIDAsIF8udmlkZW8ud2lkdGgoKSwgXy52aWRlby5oZWlnaHQoKSk7XHJcbiAgfVxyXG5cclxuICBsb29wQW5pbWF0aW9uRnJhbWUoKSB7XHJcbiAgICBsZXQgXyA9IHRoaXM7XHJcblxyXG4gICAgbGV0IG5vdyA9IERhdGUubm93KCk7XHJcbiAgICBsZXQgZWxhcHNlZFRpbWUgPSAoIG5vdyAtIF8ubGFzdFJlbmRlclRpbWUgKSAvIDEwMDA7XHJcblxyXG4gICAgaWYgKCBlbGFwc2VkVGltZSA+PSAxIC8gXy5vcHRpb24uZnBzICkge1xyXG4gICAgICBfLnZpZGVvLmN1cnJlbnRUaW1lID0gXy52aWRlby5jdXJyZW50VGltZSArIGVsYXBzZWRUaW1lO1xyXG4gICAgICBfLmxhc3RSZW5kZXJUaW1lID0gbm93O1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChfLnZpZGVvLmN1cnJlbnRUaW1lID49IF8udmlkZW8uZHVyYXRpb24pIHtcclxuICAgICAgXy5pc1BsYXlpbmcgPSBmYWxzZTtcclxuXHJcbiAgICAgIGlmIChfLm9wdGlvbi5sb29wID09PSB0cnVlKSB7XHJcbiAgICAgICAgXy52aWRlby5jdXJyZW50VGltZSA9IDA7XHJcbiAgICAgICAgXy5wbGF5KCk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBpZiAoXy5pc1BsYXlpbmcpIHtcclxuICAgICAgXy5hbmltYXRpb25GcmFtZSA9IHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4ge1xyXG4gICAgICAgIF8ubG9vcEFuaW1hdGlvbkZyYW1lKCk7XHJcbiAgICAgIH0pO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgd2luZG93LmNhbmNlbEFuaW1hdGlvbkZyYW1lKCBfLmFuaW1hdGlvbkZyYW1lICk7XHJcbiAgICAgIF8uYW5pbWF0aW9uRnJhbWUgPSBudWxsO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZ2V0VmlkZW9UcGwoKSB7XHJcbiAgICBsZXQgXyA9IHRoaXMsXHJcbiAgICAgIG9wdCA9IF8ub3B0aW9uO1xyXG5cclxuICAgIGxldCB2aWRlb1NvdXJjZVRwbCA9ICcnLFxyXG4gICAgICBleHQgPSBvcHQudmlkZW9Vcmwuc3BsaXQoJy4nKS5wb3AoKS50b0xvd2VyQ2FzZSgpO1xyXG4gICAgdmlkZW9Tb3VyY2VUcGwgKz0gYDxzb3VyY2Ugc3JjPVwiJHtvcHQudmlkZW9Vcmx9XCIgdHlwZT1cInZpZGVvLyR7ZXh0fVwiPjwvc291cmNlPmA7XHJcblxyXG4gICAgbGV0IHRwbCA9IGA8dmlkZW8gY2xhc3M9XCIke29wdC52aWRlb0NsYXNzfVwiIHBvc3Rlcj1cIiR7b3B0LnBvc3RlclVybH1cIj4ke3ZpZGVvU291cmNlVHBsfTwvdmlkZW8+YDtcclxuICAgIC8vIGxldCB0cGwgPSBgPHZpZGVvIGNsYXNzPVwiJHtvcHQudmlkZW9DbGFzc31cIiBtdXRlZD1cInRydWVcIiBsb29wPVwidHJ1ZVwiIGF1dG9wbGF5PVwidHJ1ZVwiIHBvc3Rlcj1cIlwiPiR7dmlkZW9Tb3VyY2VUcGx9PC92aWRlbz5gO1xyXG4gICAgcmV0dXJuIHRwbDtcclxuICB9XHJcblxyXG4gIGdldENhbnZhc1RwbCgpIHtcclxuICAgIHJldHVybiBgPGNhbnZhcyBjbGFzcz1cIiR7dGhpcy5vcHRpb24uY2FudmFzQ2xhc3N9XCI+PC9jYW52YXM+YDtcclxuICB9XHJcblxyXG4gIGdldFZpZGVvU2l6ZUFzcGVjdEZpbGwoKSB7XHJcbiAgICBsZXQgXyA9IHRoaXMsXHJcbiAgICAgIG9wdCA9IF8ub3B0aW9uO1xyXG5cclxuICAgIGxldCB3aW5XaWR0aCA9IHdpbmRvdy5pbm5lcldpZHRoLFxyXG4gICAgICB3aW5IZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHQsXHJcbiAgICAgIG1vZGlmaWVkU2l6ZVcgPSB3aW5XaWR0aCxcclxuICAgICAgbW9kaWZpZWRTaXplSCA9IE1hdGguY2VpbCgod2luV2lkdGggLyBvcHQud2lkdGgpICogb3B0LmhlaWdodCk7XHJcblxyXG4gICAgaWYgKG1vZGlmaWVkU2l6ZUggPCB3aW5IZWlnaHQpIHtcclxuICAgICAgbW9kaWZpZWRTaXplVyA9IE1hdGguY2VpbCgod2luSGVpZ2h0IC8gb3B0LmhlaWdodCkgKiBvcHQud2lkdGgpO1xyXG4gICAgICBtb2RpZmllZFNpemVIID0gd2luSGVpZ2h0O1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB7XHJcbiAgICAgIHdpZHRoOiBtb2RpZmllZFNpemVXLFxyXG4gICAgICBoZWlnaHQ6IG1vZGlmaWVkU2l6ZUhcclxuICAgIH07XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBCZ0NhbnZhc1ZpZGVvO1xyXG5cclxuLypcclxuIGNsYXNzIE1vdmlle1xyXG4gY29uc3RydWN0b3IoICRwYXJlbnQsIG9wdGlvbnMgKSB7XHJcblxyXG4gdGhpcy4kcGFyZW50ID0gJHBhcmVudDtcclxuXHJcbiB0aGlzLm9wdGlvbnMgPSB7XHJcbiAgIGZyYW1lc1BlclNlY29uZDogMjUsXHJcbiAgIGhpZGVWaWRlbzogdHJ1ZSxcclxuICAgYXV0b3BsYXk6IHRydWUsXHJcbiAgIGxvb3A6IHRydWUsXHJcbiAgIGZpeGVkVG9wOiBmYWxzZSxcclxuICAgbW92aWVXaWR0aDogOTYwLFxyXG4gICBtb3ZpZUhlaWdodDogNTQwLFxyXG4gICBtb3ZpZVVybCA6ICcnLFxyXG4gICBwb3N0ZXI6ICcnXHJcbiB9XHJcblxyXG4galF1ZXJ5LmV4dGVuZCggdHJ1ZSwgdGhpcy5vcHRpb25zLCBvcHRpb25zICk7XHJcblxyXG4gdGhpcy52aWRlb05vZGUgPSBqUXVlcnkoIHRoaXMudG1wbFZpZGVvKCkgKTtcclxuIHRoaXMuY2FudmFzTm9kZSA9IGpRdWVyeSggdGhpcy50bXBsQ2FudmFzKCkgKTtcclxuXHJcbiB0aGlzLiRwYXJlbnQuYXBwZW5kKCB0aGlzLnZpZGVvTm9kZSApO1xyXG4gdGhpcy52aWRlbyA9IHRoaXMudmlkZW9Ob2RlLmdldCggMCApO1xyXG5cclxuIHRoaXMuJHBhcmVudC5hcHBlbmQoIHRoaXMuY2FudmFzTm9kZSApO1xyXG4gdGhpcy5jYW52YXMgPSB0aGlzLmNhbnZhc05vZGUuZ2V0KCAwICk7XHJcblxyXG4gdGhpcy5jdHggPSB0aGlzLmNhbnZhcy5nZXRDb250ZXh0KCAnMmQnICk7XHJcblxyXG4gdGhpcy5wbGF5aW5nID0gZmFsc2U7XHJcbiAvLyB0aGlzLnJlc2l6ZVRpbWVvdXRSZWZlcmVuY2UgPSBmYWxzZTtcclxuIC8vIHRoaXMucmVzaXplVGltb3V0ID0gMTAwO1xyXG5cclxuIHRoaXMuaW5pdCgpO1xyXG4gdGhpcy5iaW5kKCk7XHJcblxyXG4gaWYoICF0aGlzLmlzSU9TKCkgKXtcclxuIHRoaXMuY2FudmFzTm9kZS5oaWRlKCk7XHJcbiB9XHJcbiB9XHJcblxyXG4gaXNJT1MoKSB7XHJcbiByZXR1cm4gL2lQYWR8aVBob25lfGlQb2QvLnRlc3QoIG5hdmlnYXRvci5wbGF0Zm9ybSApO1xyXG4gfVxyXG5cclxuICAgICAgICAgICAgIHBvc2l0aW9uKCkge1xyXG4gICAgICAgICAgICAgbGV0IG1vdmllV2lkdGggPSB0aGlzLndpZHRoO1xyXG4gICAgICAgICAgICAgbGV0IG1vdmllSGVpZ2h0ID0gdGhpcy5oZWlnaHQ7XHJcbiAgICAgICAgICAgICBsZXQgd2luV2lkdGggPSBqUXVlcnkoIHdpbmRvdyApLndpZHRoKCk7XHJcbiAgICAgICAgICAgICBsZXQgd2luSGVpZ2h0ID0galF1ZXJ5KCB3aW5kb3cgKS5oZWlnaHQoKTtcclxuXHJcbiAgICAgICAgICAgICBsZXQgbGVmdCA9ICAtKCBtb3ZpZVdpZHRoIC0gd2luV2lkdGggKSAvIDI7XHJcbiAgICAgICAgICAgICBsZXQgdG9wID0gLSggbW92aWVIZWlnaHQgLSB3aW5IZWlnaHQgKSAgLyAyO1xyXG5cclxuICAgICAgICAgICAgIGlmKCB0aGlzLm9wdGlvbnMuZml4ZWRUb3AgKSB7XHJcbiAgICAgICAgICAgICB0b3AgPSAwO1xyXG4gICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgIGlmKCB0aGlzLmlzSU9TKCkgKXtcclxuICAgICAgICAgICAgIHRoaXMuY2FudmFzTm9kZS5jc3Moe3Bvc2l0aW9uOidhYnNvbHV0ZScsIGxlZnQ6IGxlZnQsIHRvcDogdG9wfSk7XHJcbiAgICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgIHRoaXMudmlkZW9Ob2RlLmNzcyh7cG9zaXRpb246J2Fic29sdXRlJywgbGVmdDogbGVmdCwgdG9wOiB0b3B9KTtcclxuICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgIH1cclxuXHJcbiBpbml0KCkge1xyXG4gdGhpcy52aWRlby5sb2FkKCk7XHJcbiB0aGlzLnNldENhbnZhc1NpemUoKTtcclxuIHRoaXMucG9zaXRpb24oKTtcclxuXHJcbiBpZiAoIHRoaXMuaXNJT1MoKSAmJiB0aGlzLm9wdGlvbnMuaGlkZVZpZGVvIClcclxuIHRoaXMudmlkZW9Ob2RlLmhpZGUoKTtcclxuIH1cclxuXHJcbiBiaW5kKCkge1xyXG4gICBpZiggdGhpcy5pc0lPUygpICl7XHJcbiAgICAgdGhpcy52aWRlby5hZGRFdmVudExpc3RlbmVyKCd0aW1ldXBkYXRlJywgKCkgPT4ge1xyXG4gICAgIHRoaXMuZHJhd0ZyYW1lKCk7XHJcbiAgIH0pO1xyXG5cclxuICAgdGhpcy52aWRlby5hZGRFdmVudExpc3RlbmVyKCdjYW5wbGF5JywgKCkgPT4ge1xyXG4gICB0aGlzLmRyYXdGcmFtZSgpO1xyXG4gICB9KTtcclxuXHJcbiAgIGlmICh0aGlzLnZpZGVvLnJlYWR5U3RhdGUgPj0gMikge1xyXG4gICB0aGlzLmRyYXdGcmFtZSgpO1xyXG4gICB9XHJcbiAgIH1cclxuXHJcbiAgIGlmICggdGhpcy5pc0lPUygpICYmIHRoaXMub3B0aW9ucy5hdXRvcGxheSApIHtcclxuICAgIHRoaXMucGxheSgpO1xyXG4gICB9XHJcblxyXG4gLy8gQ2FjaGUgY2FudmFzIHNpemUgb24gcmVzaXplIChkb2luZyBpdCBvbmx5IG9uY2UgaW4gYSBzZWNvbmQpXHJcbiBqUXVlcnkoIHdpbmRvdyApLm9uKCdyZXNpemUnLCAoKSA9PiB7XHJcbiAvL2NsZWFyVGltZW91dCggdGhpcy5yZXNpemVUaW1lb3V0UmVmZXJlbmNlICk7XHJcblxyXG4gLy90aGlzLnJlc2l6ZVRpbWVvdXRSZWZlcmVuY2UgPSBzZXRUaW1lb3V0KCgpID0+IHtcclxuIHRoaXMuc2V0Q2FudmFzU2l6ZSgpO1xyXG4gdGhpcy5wb3NpdGlvbigpO1xyXG5cclxuIGlmKCB0aGlzLmlzSU9TKCkgKSB0aGlzLmRyYXdGcmFtZSgpO1xyXG4gLy99LCB0aGlzLnJlc2l6ZVRpbW91dCApO1xyXG4gfSk7XHJcblxyXG4gICBqUXVlcnkoIGRvY3VtZW50ICkuYmluZCggJ3dlYmtpdHZpc2liaWxpdHljaGFuZ2UnLCBmdW5jdGlvbigpe1xyXG4gICAgIGlmICggIXdpbmRvdy5fY2hlY2tWaXNpYmlsaXR5Q2hhbmdlICkgcmV0dXJuO1xyXG4gICAgICAgaWYgKCBkb2N1bWVudFsgJ3dlYmtpdEhpZGRlbicgXSApIHtcclxuICAgICAgICAgdGhpcy5wYXVzZSgpO1xyXG4gICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgdGhpcy5wbGF5KCk7XHJcbiAgICAgICB9XHJcbiAgICAgfSk7XHJcbiAgIH1cclxuXHJcbiAgIHNldENhbnZhc1NpemUoKSB7XHJcbiAgIGxldCBtb3ZpZVdpZHRoID0gdGhpcy5vcHRpb25zLm1vdmllV2lkdGg7XHJcbiAgIGxldCBtb3ZpZUhlaWdodCA9IHRoaXMub3B0aW9ucy5tb3ZpZUhlaWdodDtcclxuICAgbGV0IHdpbldpZHRoID0galF1ZXJ5KCB3aW5kb3cgKS53aWR0aCgpO1xyXG4gICBsZXQgd2luSGVpZ2h0ID0galF1ZXJ5KCB3aW5kb3cgKS5oZWlnaHQoKTtcclxuXHJcbiAgIHRoaXMuaGVpZ2h0ID0gTWF0aC5jZWlsKCB3aW5IZWlnaHQgKTtcclxuICAgdGhpcy53aWR0aCA9IE1hdGguY2VpbCggdGhpcy5oZWlnaHQgKiBtb3ZpZVdpZHRoIC8gbW92aWVIZWlnaHQgKTtcclxuXHJcbiAgIGlmKCB0aGlzLndpZHRoIDwgd2luV2lkdGggKXtcclxuICAgICB0aGlzLmhlaWdodCA9IE1hdGguY2VpbCggd2luSGVpZ2h0ICsgKCAoIHdpbldpZHRoIC0gdGhpcy53aWR0aCApICogOSAvIDE2ICkgKTtcclxuICAgICB0aGlzLndpZHRoID0gTWF0aC5jZWlsKCB0aGlzLmhlaWdodCAqIG1vdmllV2lkdGggLyBtb3ZpZUhlaWdodCApO1xyXG4gICB9XHJcblxyXG4gICBpZiggdGhpcy5pc0lPUygpICl7XHJcbiAgICAgdGhpcy5jdHguY2FudmFzLndpZHRoID0gdGhpcy53aWR0aDtcclxuICAgICB0aGlzLmN0eC5jYW52YXMuaGVpZ2h0ID0gdGhpcy5oZWlnaHQ7XHJcblxyXG4gICAgIHRoaXMuY2FudmFzTm9kZS5hdHRyKCd3aWR0aCcsIHRoaXMud2lkdGgpO1xyXG4gICAgIHRoaXMuY2FudmFzTm9kZS5hdHRyKCdoZWlnaHQnLCB0aGlzLmhlaWdodCk7XHJcbiAgIH1lbHNle1xyXG4gICAgIHRoaXMudmlkZW9Ob2RlLndpZHRoKCB0aGlzLndpZHRoICk7XHJcbiAgICAgdGhpcy52aWRlb05vZGUuaGVpZ2h0KCB0aGlzLmhlaWdodCApO1xyXG4gICB9XHJcbiB9XHJcblxyXG4gcGxheSAoKSB7XHJcbiAgIGlmKCB0aGlzLmlzSU9TKCkgKXtcclxuICAgICB0aGlzLmxhc3RUaW1lID0gRGF0ZS5ub3coKTtcclxuICAgICB0aGlzLnBsYXlpbmcgPSB0cnVlO1xyXG4gICAgIHRoaXMubG9vcCgpO1xyXG4gICB9ZWxzZXtcclxuICAgICB0aGlzLnBsYXlpbmcgPSB0cnVlO1xyXG4gICAgIHRoaXMudmlkZW9Ob2RlLmdldCggMCApLnBsYXkoKTtcclxuICAgfVxyXG4gfVxyXG5cclxuIHBhdXNlKCkge1xyXG4gICBpZiggdGhpcy5pc0lPUygpICl7XHJcbiAgICAgdGhpcy5wbGF5aW5nID0gZmFsc2U7XHJcbiAgIH1lbHNle1xyXG4gICAgIHRoaXMucGxheWluZyA9IGZhbHNlO1xyXG4gICAgIHRoaXMudmlkZW9Ob2RlLmdldCggMCApLnBhdXNlKCk7XHJcbiAgIH1cclxuIH1cclxuXHJcbiBwbGF5UGF1c2UoKSB7XHJcbiAgIGlmICh0aGlzLnBsYXlpbmcpIHtcclxuICAgICB0aGlzLnBhdXNlKCk7XHJcbiAgIH0gZWxzZSB7XHJcbiAgICAgdGhpcy5wbGF5KCk7XHJcbiAgIH1cclxuIH1cclxuXHJcbiBsb29wICgpIHtcclxuICAgbGV0IHRpbWUgPSBEYXRlLm5vdygpO1xyXG4gICBsZXQgZWxhcHNlZCA9ICggdGltZSAtIHRoaXMubGFzdFRpbWUgKSAvIDEwMDA7XHJcblxyXG4gICAvLyBSZW5kZXJcclxuICAgaWYoIGVsYXBzZWQgPj0gKDEgLyB0aGlzLm9wdGlvbnMuZnJhbWVzUGVyU2Vjb25kICkgKSB7XHJcbiAgICAgdGhpcy52aWRlby5jdXJyZW50VGltZSA9IHRoaXMudmlkZW8uY3VycmVudFRpbWUgKyBlbGFwc2VkO1xyXG4gICAgIHRoaXMubGFzdFRpbWUgPSB0aW1lO1xyXG4gICB9XHJcblxyXG4gICBpZiAodGhpcy52aWRlby5jdXJyZW50VGltZSA+PSB0aGlzLnZpZGVvLmR1cmF0aW9uKSB7XHJcbiAgICAgdGhpcy5wbGF5aW5nID0gZmFsc2U7XHJcblxyXG4gICAgIGlmICh0aGlzLm9wdGlvbnMubG9vcCA9PT0gdHJ1ZSkge1xyXG4gICAgICAgdGhpcy52aWRlby5jdXJyZW50VGltZSA9IDA7XHJcbiAgICAgICB0aGlzLnBsYXkoKTtcclxuICAgICB9XHJcbiAgIH1cclxuXHJcbiAgIGlmICggdGhpcy5wbGF5aW5nICkge1xyXG4gICAgICB0aGlzLmFuaW1hdGlvbkZyYW1lID0gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCAoKSA9PiB7XHJcbiAgICAgIHRoaXMubG9vcCgpO1xyXG4gICAgIH0pO1xyXG4gICB9ZWxzZSB7XHJcbiAgICAgY2FuY2VsQW5pbWF0aW9uRnJhbWUoIHRoaXMuYW5pbWF0aW9uRnJhbWUgKTtcclxuICAgfVxyXG4gfVxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuIHRtcGxWaWRlbyAoKSB7XHJcbiByZXR1cm4gYDx2aWRlbyBjbGFzcz1cInZpZGVvXCIgbXV0ZWQ9XCJ0cnVlXCIgbG9vcD1cInRydWVcIiBhdXRvcGxheT1cInRydWVcIiBwb3N0ZXI9XCIke3RoaXMub3B0aW9ucy5wb3N0ZXJ9XCI+XHJcbiA8c291cmNlIHNyYz1cIiR7dGhpcy5vcHRpb25zLm1vdmllVXJsfVwiIHR5cGU9XCJ2aWRlby9tcDRcIj48L3ZpZGVvPmA7XHJcbiB9XHJcblxyXG4gdG1wbENhbnZhcygpIHtcclxuIHJldHVybiAnPGNhbnZhcyBjbGFzcz1cImNhbnZhc1wiPjwvY2FudmFzPic7XHJcbiB9XHJcblxyXG4gZHJhd0ZyYW1lKCkge1xyXG4gdGhpcy5jdHguZHJhd0ltYWdlKHRoaXMudmlkZW8sIDAsIDAsIHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0KTtcclxuIH1cclxuIH1cclxuXHJcbiBtb2R1bGUuZXhwb3J0cyA9IE1vdmllO1xyXG4gKi9cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9hcHAvc3JjL2NvbXBvbmVudC9CZ0NhbnZhc1ZpZGVvLmpzIl0sInNvdXJjZVJvb3QiOiIifQ==");
},function(module,exports){eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Movie = function () {\n  function Movie(options) {\n    _classCallCheck(this, Movie);\n\n    var _ = this;\n\n    _.option = {\n      parent: null,\n      videoClass: 'video',\n      canvasClass: 'canvas',\n      width: 960,\n      height: 540,\n      alignX: 'center',\n      alignY: 'center',\n\n      fps: 30, // TODO\n      videoUrl: '',\n      posterUrl: '', // TODO\n      posterAlt: '', // TODO\n\n      autoplay: true,\n      loop: true,\n      muted: false,\n\n      canplayCallback: null, //v\n      timeupdateCallback: null, //v\n      endedCallback: null //v\n    };\n    Object.assign(_.option, options);\n\n    _.parent = _.option.parent;\n\n    if (_.parent.length <= 0) {\n      throw new Error('BgCanvasVideo Class require options have parent.');\n      return;\n    }\n\n    _.$video = null;\n    _.$canvas = null;\n\n    _.video = null;\n    _.canvas = null;\n    _.ctx = null;\n\n    _.playing = false;\n\n    _.lastRenderTime = 0;\n    _.animationFrame = null;\n\n    _.$proxyResize = $.proxy(_.resize, _);\n  }\n\n  _createClass(Movie, [{\n    key: 'init',\n    value: function init(obj) {\n      this.setInstance();\n    }\n  }, {\n    key: 'setInstance',\n    value: function setInstance() {\n      var _this = this;\n\n      var _ = this,\n          opt = _.option;\n\n      _.$video = $(_.getVideoTpl());\n      _.$canvas = $(_.getCanvasTpl());\n      _.parent.append(_.$video);\n      _.parent.append(_.$canvas);\n\n      _.video = _.$video.get(0);\n      _.canvas = _.$canvas.get(0);\n      _.ctx = this.canvas.getContext('2d');\n\n      if (opt.loop === true) _.video.setAttribute('loop', '');\n      if (opt.muted === true) _.video.setAttribute('muted', '');\n      if (opt.autoplay === true) _.video.setAttribute('autoplay', '');\n\n      var size = _.getVideoSizeAspectFill();\n      this.setVideoSize(size.width, size.height);\n      this.setCanvasSize(size.width, size.height);\n      this.setWrapAlign(opt.alignX, opt.alignY, size);\n\n      if (_.isIOS()) {\n        this.$video.hide();\n\n        this.video.addEventListener('timeupdate', function () {\n          _this.drawVideoToCanvas();\n        });\n\n        this.video.addEventListener('canplay', function () {\n          _this.drawVideoToCanvas();\n        });\n\n        if (this.video.readyState >= 2) {\n          this.drawVideoToCanvas();\n        }\n\n        if (this.option.autoplay) this.play();\n      } else {\n        this.$canvas.hide();\n      }\n\n      $(window).on('resize', _.$proxyResize);\n      _.resize();\n\n      $(document).on('webkitvisibilitychange', function () {\n        /*\r\n         if ( document[ 'webkitHidden' ] ) {\r\n         this.pause();\r\n         } else {\r\n         this.play();\r\n         }\r\n         */\n      });\n    }\n  }, {\n    key: 'setWrapAlign',\n    value: function setWrapAlign(alignX, alignY, modifiedSize) {\n      var winWidth = window.innerWidth,\n          winHeight = window.innerHeight,\n          left = 0,\n          top = 0;\n\n      switch (alignX) {\n        case 'left':\n          left = 0;\n          break;\n\n        case 'center':\n          left = Math.round((winWidth - modifiedSize.width) / 2);\n          break;\n\n        case 'right':\n          left = Math.round(winWidth - modifiedSize.width);\n          break;\n      }\n\n      switch (alignY) {\n        case 'top':\n          top = 0;\n          break;\n\n        case 'center':\n          top = Math.round((winHeight - modifiedSize.height) / 2);\n          break;\n\n        case 'bottom':\n          top = Math.round(winHeight - modifiedSize.height);\n          break;\n      }\n\n      this.setVideoPosition({ left: left, top: top });\n      this.setCanvasPosition({ left: left, top: top });\n    }\n  }, {\n    key: 'setVideoPosition',\n    value: function setVideoPosition(cssObj) {\n      this.$video.css(cssObj);\n    }\n  }, {\n    key: 'setCanvasPosition',\n    value: function setCanvasPosition(cssObj) {\n      this.$canvas.css(cssObj);\n    }\n  }, {\n    key: 'setVideoSize',\n    value: function setVideoSize(width, height) {\n      this.$video.width(width);\n      this.$video.height(height);\n    }\n  }, {\n    key: 'setCanvasSize',\n    value: function setCanvasSize(width, height) {\n      var _ = this;\n\n      _.width = width;\n      _.height = height;\n\n      if (_.isIOS()) {\n        _.ctx.canvas.width = width;\n        _.ctx.canvas.height = height;\n        _.$canvas.attr({ width: width, height: height });\n      }\n    }\n  }, {\n    key: 'resize',\n    value: function resize(evt) {\n      var _ = this,\n          size = _.getVideoSizeAspectFill();\n\n      _.setVideoSize(size.width, size.height);\n      _.setCanvasSize(size.width, size.height);\n      _.setWrapAlign(_.option.alignX, _.option.alignY, size);\n\n      if (_.isIOS()) _.drawVideoToCanvas();\n    }\n\n    // todo\n\n  }, {\n    key: 'play',\n    value: function play() {\n      if (this.isIOS()) {\n        this.lastRenderTime = Date.now();\n        this.playing = true;\n        this.loopAnimationFrame();\n      } else {\n        this.playing = true;\n        this.$video.get(0).play();\n      }\n    }\n\n    // todo\n\n  }, {\n    key: 'pause',\n    value: function pause() {\n      if (this.isIOS()) {\n        this.playing = false;\n      } else {\n        this.playing = false;\n        this.$video.get(0).pause();\n      }\n    }\n  }, {\n    key: 'stop',\n    value: function stop() {\n      // todo\n    }\n  }, {\n    key: 'seek',\n    value: function seek(second) {\n      // todo\n    }\n  }, {\n    key: 'drawVideoToCanvas',\n    value: function drawVideoToCanvas() {\n      var _ = this;\n      _.ctx.drawImage(_.video, 0, 0, _.$video.width(), _.$video.height());\n    }\n  }, {\n    key: 'loopAnimationFrame',\n    value: function loopAnimationFrame() {\n      var _ = this;\n\n      var now = Date.now(),\n          elapsedTime = (now - _.lastRenderTime) / 1000;\n      console.log('elapsedTime :', elapsedTime);\n\n      // Render\n      if (elapsedTime >= 1 / _.option.fps) {\n        _.video.currentTime = _.video.currentTime + elapsedTime;\n        _.lastRenderTime = now;\n      }\n\n      if (_.video.currentTime >= _.video.duration) {\n        _.playing = false;\n\n        if (_.option.loop === true) {\n          _.video.currentTime = 0;\n          _.play();\n        }\n      }\n\n      if (_.playing) {\n        _.animationFrame = requestAnimationFrame(function () {\n          _.loopAnimationFrame();\n        });\n      } else {\n        cancelAnimationFrame(_.animationFrame);\n        _.animationFrame = null;\n      }\n    }\n  }, {\n    key: 'getVideoTpl',\n    value: function getVideoTpl() {\n      var _ = this,\n          opt = _.option;\n\n      var videoSourceTpl = '',\n          ext = opt.videoUrl.split('.').pop().toLowerCase();\n      videoSourceTpl += '<source src=\"' + opt.videoUrl + '\" type=\"video/' + ext + '\"></source>';\n\n      var tpl = '<video class=\"' + opt.videoClass + '\" poster=\"' + opt.posterUrl + '\">' + videoSourceTpl + '</video>';\n      //let tpl = `<video class=\"${opt.videoClass}\" muted=\"true\" loop=\"true\" autoplay=\"true\" poster=\"\">${videoSourceTpl}</video>`;\n      return tpl;\n    }\n  }, {\n    key: 'getCanvasTpl',\n    value: function getCanvasTpl() {\n      return '<canvas class=\"' + this.option.canvasClass + '\"></canvas>';\n    }\n  }, {\n    key: 'getVideoSizeAspectFill',\n    value: function getVideoSizeAspectFill() {\n      var _ = this,\n          opt = _.option;\n\n      var winWidth = window.innerWidth,\n          winHeight = window.innerHeight,\n          modifiedSizeW = winWidth,\n          modifiedSizeH = Math.ceil(winWidth / opt.width * opt.height);\n\n      if (modifiedSizeH < winHeight) {\n        modifiedSizeW = Math.ceil(winHeight / opt.height * opt.width);\n        modifiedSizeH = winHeight;\n      }\n\n      return {\n        width: modifiedSizeW,\n        height: modifiedSizeH\n      };\n    }\n  }, {\n    key: 'isIOS',\n    value: function isIOS() {\n      return (/iPad|iPhone|iPod/.test(navigator.platform)\n      );\n    }\n  }]);\n\n  return Movie;\n}();\n\nexports.default = Movie;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9hcHAvc3JjL2NvbXBvbmVudC9Nb3ZpZS5qcz9mYjQyIl0sIm5hbWVzIjpbIk1vdmllIiwib3B0aW9ucyIsIl8iLCJvcHRpb24iLCJwYXJlbnQiLCJ2aWRlb0NsYXNzIiwiY2FudmFzQ2xhc3MiLCJ3aWR0aCIsImhlaWdodCIsImFsaWduWCIsImFsaWduWSIsImZwcyIsInZpZGVvVXJsIiwicG9zdGVyVXJsIiwicG9zdGVyQWx0IiwiYXV0b3BsYXkiLCJsb29wIiwibXV0ZWQiLCJjYW5wbGF5Q2FsbGJhY2siLCJ0aW1ldXBkYXRlQ2FsbGJhY2siLCJlbmRlZENhbGxiYWNrIiwiT2JqZWN0IiwiYXNzaWduIiwibGVuZ3RoIiwiRXJyb3IiLCIkdmlkZW8iLCIkY2FudmFzIiwidmlkZW8iLCJjYW52YXMiLCJjdHgiLCJwbGF5aW5nIiwibGFzdFJlbmRlclRpbWUiLCJhbmltYXRpb25GcmFtZSIsIiRwcm94eVJlc2l6ZSIsIiQiLCJwcm94eSIsInJlc2l6ZSIsIm9iaiIsInNldEluc3RhbmNlIiwib3B0IiwiZ2V0VmlkZW9UcGwiLCJnZXRDYW52YXNUcGwiLCJhcHBlbmQiLCJnZXQiLCJnZXRDb250ZXh0Iiwic2V0QXR0cmlidXRlIiwic2l6ZSIsImdldFZpZGVvU2l6ZUFzcGVjdEZpbGwiLCJzZXRWaWRlb1NpemUiLCJzZXRDYW52YXNTaXplIiwic2V0V3JhcEFsaWduIiwiaXNJT1MiLCJoaWRlIiwiYWRkRXZlbnRMaXN0ZW5lciIsImRyYXdWaWRlb1RvQ2FudmFzIiwicmVhZHlTdGF0ZSIsInBsYXkiLCJ3aW5kb3ciLCJvbiIsImRvY3VtZW50IiwibW9kaWZpZWRTaXplIiwid2luV2lkdGgiLCJpbm5lcldpZHRoIiwid2luSGVpZ2h0IiwiaW5uZXJIZWlnaHQiLCJsZWZ0IiwidG9wIiwiTWF0aCIsInJvdW5kIiwic2V0VmlkZW9Qb3NpdGlvbiIsInNldENhbnZhc1Bvc2l0aW9uIiwiY3NzT2JqIiwiY3NzIiwiYXR0ciIsImV2dCIsIkRhdGUiLCJub3ciLCJsb29wQW5pbWF0aW9uRnJhbWUiLCJwYXVzZSIsInNlY29uZCIsImRyYXdJbWFnZSIsImVsYXBzZWRUaW1lIiwiY29uc29sZSIsImxvZyIsImN1cnJlbnRUaW1lIiwiZHVyYXRpb24iLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJjYW5jZWxBbmltYXRpb25GcmFtZSIsInZpZGVvU291cmNlVHBsIiwiZXh0Iiwic3BsaXQiLCJwb3AiLCJ0b0xvd2VyQ2FzZSIsInRwbCIsIm1vZGlmaWVkU2l6ZVciLCJtb2RpZmllZFNpemVIIiwiY2VpbCIsInRlc3QiLCJuYXZpZ2F0b3IiLCJwbGF0Zm9ybSJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztJQUFNQSxLO0FBQ0osaUJBQVlDLE9BQVosRUFBcUI7QUFBQTs7QUFDbkIsUUFBSUMsSUFBSSxJQUFSOztBQUVBQSxNQUFFQyxNQUFGLEdBQVc7QUFDVEMsY0FBUSxJQURDO0FBRVRDLGtCQUFZLE9BRkg7QUFHVEMsbUJBQWEsUUFISjtBQUlUQyxhQUFPLEdBSkU7QUFLVEMsY0FBUSxHQUxDO0FBTVRDLGNBQVEsUUFOQztBQU9UQyxjQUFRLFFBUEM7O0FBU1RDLFdBQUssRUFUSSxFQVNBO0FBQ1RDLGdCQUFXLEVBVkY7QUFXVEMsaUJBQVcsRUFYRixFQVdNO0FBQ2ZDLGlCQUFXLEVBWkYsRUFZTTs7QUFFZkMsZ0JBQVUsSUFkRDtBQWVUQyxZQUFNLElBZkc7QUFnQlRDLGFBQU8sS0FoQkU7O0FBa0JUQyx1QkFBaUIsSUFsQlIsRUFrQmM7QUFDdkJDLDBCQUFvQixJQW5CWCxFQW1CaUI7QUFDMUJDLHFCQUFlLElBcEJOLENBb0JXO0FBcEJYLEtBQVg7QUFzQkFDLFdBQU9DLE1BQVAsQ0FBY3BCLEVBQUVDLE1BQWhCLEVBQXdCRixPQUF4Qjs7QUFFQUMsTUFBRUUsTUFBRixHQUFXRixFQUFFQyxNQUFGLENBQVNDLE1BQXBCOztBQUVBLFFBQUlGLEVBQUVFLE1BQUYsQ0FBU21CLE1BQVQsSUFBbUIsQ0FBdkIsRUFBMEI7QUFDeEIsWUFBTSxJQUFJQyxL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RUFBRUMsTUFEVjs7QUFHQSxVQUFJMEQsV0FBV0osT0FBT0ssVUFBdEI7QUFBQSxVQUNFQyxZQUFZTixPQUFPTyxXQURyQjtBQUFBLFVBRUU4QixnQkFBZ0JqQyxRQUZsQjtBQUFBLFVBR0VrQyxnQkFBZ0I1QixLQUFLNkIsSUFBTCxDQUFXbkMsV0FBV3RCLElBQUloQyxLQUFoQixHQUF5QmdDLElBQUkvQixNQUF2QyxDQUhsQjs7QUFLQSxVQUFJdUYsZ0JBQWdCaEMsU0FBcEIsRUFBK0I7QUFDN0IrQix3QkFBZ0IzQixLQUFLNkIsSUFBTCxDQUFXakMsWUFBWXhCLElBQUkvQixNQUFqQixHQUEyQitCLElBQUloQyxLQUF6QyxDQUFoQjtBQUNBd0Ysd0JBQWdCaEMsU0FBaEI7QUFDRDs7QUFFRCxhQUFPO0FBQ0x4RCxlQUFPdUYsYUFERjtBQUVMdEYsZ0JBQVF1RjtBQUZILE9BQVA7QUFJRDs7OzRCQUVPO0FBQ04sYUFBTyxvQkFBbUJFLElBQW5CLENBQXlCQyxVQUFVQyxRQUFuQztBQUFQO0FBQ0Q7Ozs7OztrQkFHWW5HLEsiLCJmaWxlIjoiMy5qcyIsInNvdXJjZXNDb250ZW50IjpbImNsYXNzIE1vdmlle1xyXG4gIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcclxuICAgIGxldCBfID0gdGhpcztcclxuXHJcbiAgICBfLm9wdGlvbiA9IHtcclxuICAgICAgcGFyZW50OiBudWxsLFxyXG4gICAgICB2aWRlb0NsYXNzOiAndmlkZW8nLFxyXG4gICAgICBjYW52YXNDbGFzczogJ2NhbnZhcycsXHJcbiAgICAgIHdpZHRoOiA5NjAsXHJcbiAgICAgIGhlaWdodDogNTQwLFxyXG4gICAgICBhbGlnblg6ICdjZW50ZXInLFxyXG4gICAgICBhbGlnblk6ICdjZW50ZXInLFxyXG5cclxuICAgICAgZnBzOiAzMCwgLy8gVE9ET1xyXG4gICAgICB2aWRlb1VybCA6ICcnLFxyXG4gICAgICBwb3N0ZXJVcmw6ICcnLCAvLyBUT0RPXHJcbiAgICAgIHBvc3RlckFsdDogJycsIC8vIFRPRE9cclxuXHJcbiAgICAgIGF1dG9wbGF5OiB0cnVlLFxyXG4gICAgICBsb29wOiB0cnVlLFxyXG4gICAgICBtdXRlZDogZmFsc2UsXHJcblxyXG4gICAgICBjYW5wbGF5Q2FsbGJhY2s6IG51bGwsIC8vdlxyXG4gICAgICB0aW1ldXBkYXRlQ2FsbGJhY2s6IG51bGwsIC8vdlxyXG4gICAgICBlbmRlZENhbGxiYWNrOiBudWxsIC8vdlxyXG4gICAgfTtcclxuICAgIE9iamVjdC5hc3NpZ24oXy5vcHRpb24sIG9wdGlvbnMpO1xyXG5cclxuICAgIF8ucGFyZW50ID0gXy5vcHRpb24ucGFyZW50O1xyXG5cclxuICAgIGlmIChfLnBhcmVudC5sZW5ndGggPD0gMCkge1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0JnQ2FudmFzVmlkZW8gQ2xhc3MgcmVxdWlyZSBvcHRpb25zIGhhdmUgcGFyZW50LicpO1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgXy4kdmlkZW8gPSBudWxsO1xyXG4gICAgXy4kY2FudmFzID0gbnVsbDtcclxuXHJcbiAgICBfLnZpZGVvID0gbnVsbDtcclxuICAgIF8uY2FudmFzID0gbnVsbDtcclxuICAgIF8uY3R4ID0gbnVsbDtcclxuXHJcbiAgICBfLnBsYXlpbmcgPSBmYWxzZTtcclxuXHJcbiAgICBfLmxhc3RSZW5kZXJUaW1lID0gMDtcclxuICAgIF8uYW5pbWF0aW9uRnJhbWUgPSBudWxsO1xyXG5cclxuICAgIF8uJHByb3h5UmVzaXplID0gJC5wcm94eShfLnJlc2l6ZSwgXyk7XHJcbiAgfVxyXG5cclxuICBpbml0KG9iaikge1xyXG4gICAgdGhpcy5zZXRJbnN0YW5jZSgpO1xyXG4gIH1cclxuXHJcbiAgc2V0SW5zdGFuY2UoKSB7XHJcbiAgICBsZXQgXyA9IHRoaXMsXHJcbiAgICAgIG9wdCA9IF8ub3B0aW9uO1xyXG5cclxuICAgIF8uJHZpZGVvID0gJCggXy5nZXRWaWRlb1RwbCgpICk7XHJcbiAgICBfLiRjYW52YXMgPSAkKCBfLmdldENhbnZhc1RwbCgpICk7XHJcbiAgICBfLnBhcmVudC5hcHBlbmQoIF8uJHZpZGVvICk7XHJcbiAgICBfLnBhcmVudC5hcHBlbmQoIF8uJGNhbnZhcyApO1xyXG5cclxuICAgIF8udmlkZW8gPSBfLiR2aWRlby5nZXQoMCk7XHJcbiAgICBfLmNhbnZhcyA9IF8uJGNhbnZhcy5nZXQoMCk7XHJcbiAgICBfLmN0eCA9IHRoaXMuY2FudmFzLmdldENvbnRleHQoICcyZCcgKTtcclxuXHJcbiAgICBpZiAob3B0Lmxvb3AgPT09IHRydWUpIF8udmlkZW8uc2V0QXR0cmlidXRlKCdsb29wJywgJycpO1xyXG4gICAgaWYgKG9wdC5tdXRlZCA9PT0gdHJ1ZSkgXy52aWRlby5zZXRBdHRyaWJ1dGUoJ211dGVkJywgJycpO1xyXG4gICAgaWYgKG9wdC5hdXRvcGxheSA9PT0gdHJ1ZSkgXy52aWRlby5zZXRBdHRyaWJ1dGUoJ2F1dG9wbGF5JywgJycpO1xyXG5cclxuICAgIGxldCBzaXplID0gXy5nZXRWaWRlb1NpemVBc3BlY3RGaWxsKCk7XHJcbiAgICB0aGlzLnNldFZpZGVvU2l6ZShzaXplLndpZHRoLCBzaXplLmhlaWdodCk7XHJcbiAgICB0aGlzLnNldENhbnZhc1NpemUoc2l6ZS53aWR0aCwgc2l6ZS5oZWlnaHQpO1xyXG4gICAgdGhpcy5zZXRXcmFwQWxpZ24ob3B0LmFsaWduWCwgb3B0LmFsaWduWSwgc2l6ZSk7XHJcblxyXG4gICAgaWYoIF8uaXNJT1MoKSApIHtcclxuICAgICAgdGhpcy4kdmlkZW8uaGlkZSgpO1xyXG5cclxuICAgICAgdGhpcy52aWRlby5hZGRFdmVudExpc3RlbmVyKCd0aW1ldXBkYXRlJywgKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuZHJhd1ZpZGVvVG9DYW52YXMoKTtcclxuICAgICAgfSk7XHJcblxyXG4gICAgICB0aGlzLnZpZGVvLmFkZEV2ZW50TGlzdGVuZXIoJ2NhbnBsYXknLCAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5kcmF3VmlkZW9Ub0NhbnZhcygpO1xyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIGlmICh0aGlzLnZpZGVvLnJlYWR5U3RhdGUgPj0gMikge1xyXG4gICAgICAgIHRoaXMuZHJhd1ZpZGVvVG9DYW52YXMoKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgaWYodGhpcy5vcHRpb24uYXV0b3BsYXkpIHRoaXMucGxheSgpO1xyXG5cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuJGNhbnZhcy5oaWRlKCk7XHJcbiAgICB9XHJcblxyXG4gICAgJCh3aW5kb3cpLm9uKCdyZXNpemUnLCBfLiRwcm94eVJlc2l6ZSk7XHJcbiAgICBfLnJlc2l6ZSgpO1xyXG5cclxuICAgICQoZG9jdW1lbnQpLm9uKCAnd2Via2l0dmlzaWJpbGl0eWNoYW5nZScsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAvKlxyXG4gICAgICAgaWYgKCBkb2N1bWVudFsgJ3dlYmtpdEhpZGRlbicgXSApIHtcclxuICAgICAgIHRoaXMucGF1c2UoKTtcclxuICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICB0aGlzLnBsYXkoKTtcclxuICAgICAgIH1cclxuICAgICAgICovXHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIHNldFdyYXBBbGlnbihhbGlnblgsIGFsaWduWSwgbW9kaWZpZWRTaXplKSB7XHJcbiAgICBsZXQgd2luV2lkdGggPSB3aW5kb3cuaW5uZXJXaWR0aCxcclxuICAgICAgd2luSGVpZ2h0ID0gd2luZG93LmlubmVySGVpZ2h0LFxyXG4gICAgICBsZWZ0ID0gMCxcclxuICAgICAgdG9wID0gMDtcclxuXHJcbiAgICBzd2l0Y2ggKGFsaWduWCkge1xyXG4gICAgICBjYXNlICdsZWZ0JyA6XHJcbiAgICAgICAgbGVmdCA9IDA7XHJcbiAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICBjYXNlICdjZW50ZXInIDpcclxuICAgICAgICBsZWZ0ID0gTWF0aC5yb3VuZCgod2luV2lkdGggLSBtb2RpZmllZFNpemUud2lkdGgpIC8gMik7XHJcbiAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICBjYXNlICdyaWdodCcgOlxyXG4gICAgICAgIGxlZnQgPSBNYXRoLnJvdW5kKHdpbldpZHRoIC0gbW9kaWZpZWRTaXplLndpZHRoKTtcclxuICAgICAgICBicmVhaztcclxuICAgIH1cclxuXHJcbiAgICBzd2l0Y2ggKGFsaWduWSkge1xyXG4gICAgICBjYXNlICd0b3AnIDpcclxuICAgICAgICB0b3AgPSAwO1xyXG4gICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgY2FzZSAnY2VudGVyJyA6XHJcbiAgICAgICAgdG9wID0gTWF0aC5yb3VuZCgod2luSGVpZ2h0IC0gbW9kaWZpZWRTaXplLmhlaWdodCkgLyAyKTtcclxuICAgICAgICBicmVhaztcclxuXHJcbiAgICAgIGNhc2UgJ2JvdHRvbScgOlxyXG4gICAgICAgIHRvcCA9IE1hdGgucm91bmQod2luSGVpZ2h0IC0gbW9kaWZpZWRTaXplLmhlaWdodCk7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5zZXRWaWRlb1Bvc2l0aW9uKHsgbGVmdDogbGVmdCwgdG9wOiB0b3AgfSk7XHJcbiAgICB0aGlzLnNldENhbnZhc1Bvc2l0aW9uKHsgbGVmdDogbGVmdCwgdG9wOiB0b3AgfSlcclxuICB9XHJcblxyXG4gIHNldFZpZGVvUG9zaXRpb24oY3NzT2JqKSB7XHJcbiAgICB0aGlzLiR2aWRlby5jc3MoY3NzT2JqKTtcclxuICB9XHJcblxyXG4gIHNldENhbnZhc1Bvc2l0aW9uKGNzc09iaikge1xyXG4gICAgdGhpcy4kY2FudmFzLmNzcyhjc3NPYmopO1xyXG4gIH1cclxuXHJcbiAgc2V0VmlkZW9TaXplKHdpZHRoLCBoZWlnaHQpIHtcclxuICAgIHRoaXMuJHZpZGVvLndpZHRoKCB3aWR0aCApO1xyXG4gICAgdGhpcy4kdmlkZW8uaGVpZ2h0KCBoZWlnaHQgKTtcclxuICB9XHJcblxyXG4gIHNldENhbnZhc1NpemUod2lkdGgsIGhlaWdodCkge1xyXG4gICAgbGV0IF8gPSB0aGlzO1xyXG5cclxuICAgIF8ud2lkdGggPSB3aWR0aDtcclxuICAgIF8uaGVpZ2h0ID0gaGVpZ2h0O1xyXG5cclxuICAgIGlmKCBfLmlzSU9TKCkgKXtcclxuICAgICAgXy5jdHguY2FudmFzLndpZHRoID0gd2lkdGg7XHJcbiAgICAgIF8uY3R4LmNhbnZhcy5oZWlnaHQgPSBoZWlnaHQ7XHJcbiAgICAgIF8uJGNhbnZhcy5hdHRyKHt3aWR0aDogd2lkdGgsIGhlaWdodDogaGVpZ2h0fSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICByZXNpemUoZXZ0KSB7XHJcbiAgICBsZXQgXyA9IHRoaXMsXHJcbiAgICAgIHNpemUgPSBfLmdldFZpZGVvU2l6ZUFzcGVjdEZpbGwoKTtcclxuXHJcbiAgICBfLnNldFZpZGVvU2l6ZShzaXplLndpZHRoLCBzaXplLmhlaWdodCk7XHJcbiAgICBfLnNldENhbnZhc1NpemUoc2l6ZS53aWR0aCwgc2l6ZS5oZWlnaHQpO1xyXG4gICAgXy5zZXRXcmFwQWxpZ24oXy5vcHRpb24uYWxpZ25YLCBfLm9wdGlvbi5hbGlnblksIHNpemUpO1xyXG5cclxuICAgIGlmKCBfLmlzSU9TKCkgKSBfLmRyYXdWaWRlb1RvQ2FudmFzKCk7XHJcbiAgfVxyXG5cclxuXHJcblxyXG5cclxuXHJcbiAgLy8gdG9kb1xyXG4gIHBsYXkgKCkge1xyXG4gICAgaWYoIHRoaXMuaXNJT1MoKSApe1xyXG4gICAgICB0aGlzLmxhc3RSZW5kZXJUaW1lID0gRGF0ZS5ub3coKTtcclxuICAgICAgdGhpcy5wbGF5aW5nID0gdHJ1ZTtcclxuICAgICAgdGhpcy5sb29wQW5pbWF0aW9uRnJhbWUoKTtcclxuICAgIH1lbHNle1xyXG4gICAgICB0aGlzLnBsYXlpbmcgPSB0cnVlO1xyXG4gICAgICB0aGlzLiR2aWRlby5nZXQoIDAgKS5wbGF5KCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvLyB0b2RvXHJcbiAgcGF1c2UoKSB7XHJcbiAgICBpZiggdGhpcy5pc0lPUygpICl7XHJcbiAgICAgIHRoaXMucGxheWluZyA9IGZhbHNlO1xyXG4gICAgfWVsc2V7XHJcbiAgICAgIHRoaXMucGxheWluZyA9IGZhbHNlO1xyXG4gICAgICB0aGlzLiR2aWRlby5nZXQoIDAgKS5wYXVzZSgpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgc3RvcCgpIHtcclxuICAgIC8vIHRvZG9cclxuICB9XHJcblxyXG4gIHNlZWsoc2Vjb25kKSB7XHJcbiAgICAvLyB0b2RvXHJcbiAgfVxyXG5cclxuXHJcblxyXG5cclxuICBkcmF3VmlkZW9Ub0NhbnZhcygpIHtcclxuICAgIGxldCBfID0gdGhpcztcclxuICAgIF8uY3R4LmRyYXdJbWFnZShfLnZpZGVvLCAwLCAwLCBfLiR2aWRlby53aWR0aCgpLCBfLiR2aWRlby5oZWlnaHQoKSk7XHJcbiAgfVxyXG5cclxuICBsb29wQW5pbWF0aW9uRnJhbWUoKSB7XHJcbiAgICBsZXQgXyA9IHRoaXM7XHJcblxyXG4gICAgbGV0IG5vdyA9IERhdGUubm93KCksXHJcbiAgICAgIGVsYXBzZWRUaW1lID0gKCBub3cgLSBfLmxhc3RSZW5kZXJUaW1lICkgLyAxMDAwO1xyXG4gICAgY29uc29sZS5sb2coJ2VsYXBzZWRUaW1lIDonLCBlbGFwc2VkVGltZSk7XHJcblxyXG4gICAgLy8gUmVuZGVyXHJcbiAgICBpZiggZWxhcHNlZFRpbWUgPj0gKDEgLyBfLm9wdGlvbi5mcHMpICkge1xyXG4gICAgICBfLnZpZGVvLmN1cnJlbnRUaW1lID0gXy52aWRlby5jdXJyZW50VGltZSArIGVsYXBzZWRUaW1lO1xyXG4gICAgICBfLmxhc3RSZW5kZXJUaW1lID0gbm93O1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChfLnZpZGVvLmN1cnJlbnRUaW1lID49IF8udmlkZW8uZHVyYXRpb24pIHtcclxuICAgICAgXy5wbGF5aW5nID0gZmFsc2U7XHJcblxyXG4gICAgICBpZiAoXy5vcHRpb24ubG9vcCA9PT0gdHJ1ZSkge1xyXG4gICAgICAgIF8udmlkZW8uY3VycmVudFRpbWUgPSAwO1xyXG4gICAgICAgIF8ucGxheSgpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKCBfLnBsYXlpbmcgKSB7XHJcbiAgICAgIF8uYW5pbWF0aW9uRnJhbWUgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoICgpID0+IHtcclxuICAgICAgICBfLmxvb3BBbmltYXRpb25GcmFtZSgpO1xyXG4gICAgICB9KTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGNhbmNlbEFuaW1hdGlvbkZyYW1lKCBfLmFuaW1hdGlvbkZyYW1lICk7XHJcbiAgICAgIF8uYW5pbWF0aW9uRnJhbWUgPSBudWxsO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZ2V0VmlkZW9UcGwgKCkge1xyXG4gICAgbGV0IF8gPSB0aGlzLFxyXG4gICAgICBvcHQgPSBfLm9wdGlvbjtcclxuXHJcbiAgICBsZXQgdmlkZW9Tb3VyY2VUcGwgPSAnJyxcclxuICAgICAgZXh0ID0gb3B0LnZpZGVvVXJsLnNwbGl0KCcuJykucG9wKCkudG9Mb3dlckNhc2UoKTtcclxuICAgIHZpZGVvU291cmNlVHBsICs9IGA8c291cmNlIHNyYz1cIiR7b3B0LnZpZGVvVXJsfVwiIHR5cGU9XCJ2aWRlby8ke2V4dH1cIj48L3NvdXJjZT5gO1xyXG5cclxuICAgIGxldCB0cGwgPSBgPHZpZGVvIGNsYXNzPVwiJHtvcHQudmlkZW9DbGFzc31cIiBwb3N0ZXI9XCIke29wdC5wb3N0ZXJVcmx9XCI+JHt2aWRlb1NvdXJjZVRwbH08L3ZpZGVvPmA7XHJcbiAgICAgLy9sZXQgdHBsID0gYDx2aWRlbyBjbGFzcz1cIiR7b3B0LnZpZGVvQ2xhc3N9XCIgbXV0ZWQ9XCJ0cnVlXCIgbG9vcD1cInRydWVcIiBhdXRvcGxheT1cInRydWVcIiBwb3N0ZXI9XCJcIj4ke3ZpZGVvU291cmNlVHBsfTwvdmlkZW8+YDtcclxuICAgIHJldHVybiB0cGw7XHJcbiAgfVxyXG5cclxuICBnZXRDYW52YXNUcGwoKSB7XHJcbiAgICByZXR1cm4gYDxjYW52YXMgY2xhc3M9XCIke3RoaXMub3B0aW9uLmNhbnZhc0NsYXNzfVwiPjwvY2FudmFzPmA7XHJcbiAgfVxyXG5cclxuICBnZXRWaWRlb1NpemVBc3BlY3RGaWxsKCkge1xyXG4gICAgbGV0IF8gPSB0aGlzLFxyXG4gICAgICBvcHQgPSBfLm9wdGlvbjtcclxuXHJcbiAgICBsZXQgd2luV2lkdGggPSB3aW5kb3cuaW5uZXJXaWR0aCxcclxuICAgICAgd2luSGVpZ2h0ID0gd2luZG93LmlubmVySGVpZ2h0LFxyXG4gICAgICBtb2RpZmllZFNpemVXID0gd2luV2lkdGgsXHJcbiAgICAgIG1vZGlmaWVkU2l6ZUggPSBNYXRoLmNlaWwoKHdpbldpZHRoIC8gb3B0LndpZHRoKSAqIG9wdC5oZWlnaHQpO1xyXG5cclxuICAgIGlmIChtb2RpZmllZFNpemVIIDwgd2luSGVpZ2h0KSB7XHJcbiAgICAgIG1vZGlmaWVkU2l6ZVcgPSBNYXRoLmNlaWwoKHdpbkhlaWdodCAvIG9wdC5oZWlnaHQpICogb3B0LndpZHRoKTtcclxuICAgICAgbW9kaWZpZWRTaXplSCA9IHdpbkhlaWdodDtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4ge1xyXG4gICAgICB3aWR0aDogbW9kaWZpZWRTaXplVyxcclxuICAgICAgaGVpZ2h0OiBtb2RpZmllZFNpemVIXHJcbiAgICB9O1xyXG4gIH1cclxuXHJcbiAgaXNJT1MoKSB7XHJcbiAgICByZXR1cm4gL2lQYWR8aVBob25lfGlQb2QvLnRlc3QoIG5hdmlnYXRvci5wbGF0Zm9ybSApO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgTW92aWU7XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vYXBwL3NyYy9jb21wb25lbnQvTW92aWUuanMiXSwic291cmNlUm9vdCI6IiJ9")}]);